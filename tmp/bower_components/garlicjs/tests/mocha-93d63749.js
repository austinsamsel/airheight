!function(){function e(t){var n=e.resolve(t),i=e.modules[n];if(!i)throw new Error('failed to require "'+t+'"');return i.exports||(i.exports={},i.call(i.exports,i,i.exports,e.relative(n))),i.exports}e.modules={},e.resolve=function(t){var n=t,i=t+".js",r=t+"/index.js";return e.modules[i]&&i||e.modules[r]&&r||n},e.register=function(t,n){e.modules[t]=n},e.relative=function(t){return function(n){if("."!=n.charAt(0))return e(n);var i=t.split("/"),r=n.split("/");i.pop();for(var s=0;s<r.length;s++){var o=r[s];".."==o?i.pop():"."!=o&&i.push(o)}return e(i.join("/"))}},e.register("browser/debug.js",function(e){e.exports=function(){return function(){}}}),e.register("browser/diff.js",function(){}),e.register("browser/events.js",function(e,t){function n(e){return"[object Array]"=={}.toString.call(e)}function i(){}t.EventEmitter=i,i.prototype.on=function(e,t){return this.$events||(this.$events={}),this.$events[e]?n(this.$events[e])?this.$events[e].push(t):this.$events[e]=[this.$events[e],t]:this.$events[e]=t,this},i.prototype.addListener=i.prototype.on,i.prototype.once=function(e,t){function n(){i.removeListener(e,n),t.apply(this,arguments)}var i=this;return n.listener=t,this.on(e,n),this},i.prototype.removeListener=function(e,t){if(this.$events&&this.$events[e]){var i=this.$events[e];if(n(i)){for(var r=-1,s=0,o=i.length;o>s;s++)if(i[s]===t||i[s].listener&&i[s].listener===t){r=s;break}if(0>r)return this;i.splice(r,1),i.length||delete this.$events[e]}else(i===t||i.listener&&i.listener===t)&&delete this.$events[e]}return this},i.prototype.removeAllListeners=function(e){return void 0===e?(this.$events={},this):(this.$events&&this.$events[e]&&(this.$events[e]=null),this)},i.prototype.listeners=function(e){return this.$events||(this.$events={}),this.$events[e]||(this.$events[e]=[]),n(this.$events[e])||(this.$events[e]=[this.$events[e]]),this.$events[e]},i.prototype.emit=function(e){if(!this.$events)return!1;var t=this.$events[e];if(!t)return!1;var i=[].slice.call(arguments,1);if("function"==typeof t)t.apply(this,i);else{if(!n(t))return!1;for(var r=t.slice(),s=0,o=r.length;o>s;s++)r[s].apply(this,i)}return!0}}),e.register("browser/fs.js",function(){}),e.register("browser/path.js",function(){}),e.register("browser/progress.js",function(e){function t(){this.percent=0,this.size(0),this.fontSize(11),this.font("helvetica, arial, sans-serif")}e.exports=t,t.prototype.size=function(e){return this._size=e,this},t.prototype.text=function(e){return this._text=e,this},t.prototype.fontSize=function(e){return this._fontSize=e,this},t.prototype.font=function(e){return this._font=e,this},t.prototype.update=function(e){return this.percent=e,this},t.prototype.draw=function(e){var t=Math.min(this.percent,100),n=this._size,i=n/2,r=i,s=i,o=i-1,a=this._fontSize;e.font=a+"px "+this._font;var l=2*Math.PI*(t/100);e.clearRect(0,0,n,n),e.strokeStyle="#9f9f9f",e.beginPath(),e.arc(r,s,o,0,l,!1),e.stroke(),e.strokeStyle="#eee",e.beginPath(),e.arc(r,s,o-1,0,l,!0),e.stroke();var u=this._text||(0|t)+"%",c=e.measureText(u).width;return e.fillText(u,r-c/2+1,s+a/2-1),this}}),e.register("browser/tty.js",function(e,t){t.isatty=function(){return!0},t.getWindowSize=function(){return[window.innerHeight,window.innerWidth]}}),e.register("context.js",function(e){function t(){}e.exports=t,t.prototype.runnable=function(e){return 0==arguments.length?this._runnable:(this.test=this._runnable=e,this)},t.prototype.timeout=function(e){return this.runnable().timeout(e),this},t.prototype.slow=function(e){return this.runnable().slow(e),this},t.prototype.inspect=function(){return JSON.stringify(this,function(e,t){return"_runnable"!=e&&"test"!=e?t:void 0},2)}}),e.register("hook.js",function(e,t,n){function i(e,t){r.call(this,e,t),this.type="hook"}var r=n("./runnable");e.exports=i,i.prototype=new r,i.prototype.constructor=i,i.prototype.error=function(e){if(0==arguments.length){var e=this._error;return this._error=null,e}this._error=e}}),e.register("interfaces/bdd.js",function(e,t,n){var i=n("../suite"),r=n("../test");e.exports=function(e){var t=[e];e.on("pre-require",function(e,n,s){e.before=function(e){t[0].beforeAll(e)},e.after=function(e){t[0].afterAll(e)},e.beforeEach=function(e){t[0].beforeEach(e)},e.afterEach=function(e){t[0].afterEach(e)},e.describe=e.context=function(e,n){var r=i.create(t[0],e);return t.unshift(r),n.call(r),t.shift(),r},e.xdescribe=e.xcontext=e.describe.skip=function(e,n){var r=i.create(t[0],e);r.pending=!0,t.unshift(r),n.call(r),t.shift()},e.describe.only=function(t,n){var i=e.describe(t,n);s.grep(i.fullTitle())},e.it=e.specify=function(e,n){var i=t[0];if(i.pending)var n=null;var s=new r(e,n);return i.addTest(s),s},e.it.only=function(t,n){var i=e.it(t,n);s.grep(i.fullTitle())},e.xit=e.xspecify=e.it.skip=function(t){e.it(t)}})}}),e.register("interfaces/exports.js",function(e,t,n){var i=n("../suite"),r=n("../test");e.exports=function(e){function t(e){var s;for(var o in e)if("function"==typeof e[o]){var a=e[o];switch(o){case"before":n[0].beforeAll(a);break;case"after":n[0].afterAll(a);break;case"beforeEach":n[0].beforeEach(a);break;case"afterEach":n[0].afterEach(a);break;default:n[0].addTest(new r(o,a))}}else{var s=i.create(n[0],o);n.unshift(s),t(e[o]),n.shift()}}var n=[e];e.on("require",t)}}),e.register("interfaces/index.js",function(e,t,n){t.bdd=n("./bdd"),t.tdd=n("./tdd"),t.qunit=n("./qunit"),t.exports=n("./exports")}),e.register("interfaces/qunit.js",function(e,t,n){var i=n("../suite"),r=n("../test");e.exports=function(e){var t=[e];e.on("pre-require",function(e){e.before=function(e){t[0].beforeAll(e)},e.after=function(e){t[0].afterAll(e)},e.beforeEach=function(e){t[0].beforeEach(e)},e.afterEach=function(e){t[0].afterEach(e)},e.suite=function(e){t.length>1&&t.shift();var n=i.create(t[0],e);t.unshift(n)},e.test=function(e,n){t[0].addTest(new r(e,n))}})}}),e.register("interfaces/tdd.js",function(e,t,n){var i=n("../suite"),r=n("../test");e.exports=function(e){var t=[e];e.on("pre-require",function(e,n,s){e.setup=function(e){t[0].beforeEach(e)},e.teardown=function(e){t[0].afterEach(e)},e.suiteSetup=function(e){t[0].beforeAll(e)},e.suiteTeardown=function(e){t[0].afterAll(e)},e.suite=function(e,n){var r=i.create(t[0],e);return t.unshift(r),n.call(r),t.shift(),r},e.suite.only=function(t,n){var i=e.suite(t,n);s.grep(i.fullTitle())},e.test=function(e,n){var i=new r(e,n);return t[0].addTest(i),i},e.test.only=function(t,n){var i=e.test(t,n);s.grep(i.fullTitle())},e.test.skip=function(t){e.test(t)}})}}),e.register("mocha-93d63749.js",function(e,t,n){function i(e){return __dirname+"/../images/"+e+".png"}function r(e){e=e||{},this.files=[],this.options=e,this.grep(e.grep),this.suite=new t.Suite("",new t.Context),this.ui(e.ui),this.reporter(e.reporter),e.timeout&&this.timeout(e.timeout),e.slow&&this.slow(e.slow)}/*!
 * mocha
 * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>
 * MIT Licensed
 */
var s=n("browser/path"),o=n("./utils");t=e.exports=r,t.utils=o,t.interfaces=n("./interfaces"),t.reporters=n("./reporters"),t.Runnable=n("./runnable"),t.Context=n("./context"),t.Runner=n("./runner"),t.Suite=n("./suite"),t.Hook=n("./hook"),t.Test=n("./test"),r.prototype.addFile=function(e){return this.files.push(e),this},r.prototype.reporter=function(e){if("function"==typeof e)this._reporter=e;else{e=e||"dot";try{this._reporter=n("./reporters/"+e)}catch(t){this._reporter=n(e)}if(!this._reporter)throw new Error('invalid reporter "'+e+'"')}return this},r.prototype.ui=function(e){if(e=e||"bdd",this._ui=t.interfaces[e],!this._ui)throw new Error('invalid interface "'+e+'"');return this._ui=this._ui(this.suite),this},r.prototype.loadFiles=function(e){var t=this,i=this.suite,r=this.files.length;this.files.forEach(function(o){o=s.resolve(o),i.emit("pre-require",global,o,t),i.emit("require",n(o),o,t),i.emit("post-require",global,o,t),--r||e&&e()})},r.prototype._growl=function(e,t){var r=n("growl");e.on("end",function(){var n=t.stats;if(n.failures){var s=n.failures+" of "+e.total+" tests failed";r(s,{name:"mocha",title:"Failed",image:i("error")})}else r(n.passes+" tests passed in "+n.duration+"ms",{name:"mocha",title:"Passed",image:i("ok")})})},r.prototype.grep=function(e){return this.options.grep="string"==typeof e?new RegExp(o.escapeRegexp(e)):e,this},r.prototype.invert=function(){return this.options.invert=!0,this},r.prototype.ignoreLeaks=function(){return this.options.ignoreLeaks=!0,this},r.prototype.checkLeaks=function(){return this.options.ignoreLeaks=!1,this},r.prototype.growl=function(){return this.options.growl=!0,this},r.prototype.globals=function(e){return this.options.globals=(this.options.globals||[]).concat(e),this},r.prototype.timeout=function(e){return this.suite.timeout(e),this},r.prototype.slow=function(e){return this.suite.slow(e),this},r.prototype.asyncOnly=function(){return this.options.asyncOnly=!0,this},r.prototype.run=function(e){this.files.length&&this.loadFiles();var n=this.suite,i=this.options,r=new t.Runner(n),s=new this._reporter(r);return r.ignoreLeaks=i.ignoreLeaks,r.asyncOnly=i.asyncOnly,i.grep&&r.grep(i.grep,i.invert),i.globals&&r.globals(i.globals),i.growl&&this._growl(r,s),r.run(e)}}),e.register("ms.js",function(e){function t(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"y":return 315576e5*n;case"days":case"day":case"d":return 864e5*n;case"hours":case"hour":case"h":return 36e5*n;case"minutes":case"minute":case"m":return 6e4*n;case"seconds":case"second":case"s":return 1e3*n;case"ms":return n}}}function n(e){return e==o?Math.round(e/o)+" day":e>o?Math.round(e/o)+" days":e==s?Math.round(e/s)+" hour":e>s?Math.round(e/s)+" hours":e==r?Math.round(e/r)+" minute":e>r?Math.round(e/r)+" minutes":e==i?Math.round(e/i)+" second":e>i?Math.round(e/i)+" seconds":e+" ms"}var i=1e3,r=60*i,s=60*r,o=24*s;e.exports=function(e){return"string"==typeof e?t(e):n(e)}}),e.register("reporters/base.js",function(e,t,n){function i(e){var t=this.stats={suites:0,tests:0,passes:0,pending:0,failures:0},n=this.failures=[];e&&(this.runner=e,e.stats=t,e.on("start",function(){t.start=new c}),e.on("suite",function(e){t.suites=t.suites||0,e.root||t.suites++}),e.on("test end",function(){t.tests=t.tests||0,t.tests++}),e.on("pass",function(e){t.passes=t.passes||0;var n=e.slow()/2;e.speed=e.duration>e.slow()?"slow":e.duration>n?"medium":"fast",t.passes++}),e.on("fail",function(e,i){t.failures=t.failures||0,t.failures++,e.err=i,n.push(e)}),e.on("end",function(){t.end=new c,t.duration=new c-t.start}),e.on("pending",function(){t.pending++}))}function r(e,t){return e=String(e),Array(t-e.length+1).join(" ")+e}function s(e,t,n){return l["diff"+t](e.actual,e.expected).map(function(e){return n&&(e.value=e.value.replace(/\t/g,"<tab>").replace(/\r/g,"<CR>").replace(/\n/g,"<LF>\n")),e.added?o("diff added",e.value):e.removed?o("diff removed",e.value):e.value}).join("")}function o(e,t){return t.split("\n").map(function(t){return h(e,t)}).join("\n")}var a=n("browser/tty"),l=n("browser/diff"),u=n("../ms"),c=global.Date,d=(global.setTimeout,global.setInterval,global.clearTimeout,global.clearInterval,a.isatty(1)&&a.isatty(2));t=e.exports=i,t.useColors=d,t.colors={pass:90,fail:31,"bright pass":92,"bright fail":91,"bright yellow":93,pending:36,suite:0,"error title":0,"error message":31,"error stack":90,checkmark:32,fast:90,medium:33,slow:31,green:32,light:90,"diff gutter":90,"diff added":42,"diff removed":41},t.symbols={ok:"\u2713",err:"\u2716",dot:"\u2024"},"win32"==process.platform&&(t.symbols.ok="\u221a",t.symbols.err="\xd7",t.symbols.dot=".");var h=t.color=function(e,n){return t.useColors?"["+t.colors[e]+"m"+n+"[0m":n};t.window={width:d?process.stdout.getWindowSize?process.stdout.getWindowSize(1)[0]:a.getWindowSize()[1]:75},t.cursor={hide:function(){process.stdout.write("[?25l")},show:function(){process.stdout.write("[?25h")},deleteLine:function(){process.stdout.write("[2K")},beginningOfLine:function(){process.stdout.write("[0G")},CR:function(){t.cursor.deleteLine(),t.cursor.beginningOfLine()}},t.list=function(e){console.error(),e.forEach(function(e,t){var n=h("error title","  %s) %s:\n")+h("error message","     %s")+h("error stack","\n%s\n"),i=e.err,o=i.message||"",a=i.stack||o,l=a.indexOf(o)+o.length,u=a.slice(0,l),c=i.actual,d=i.expected,f=!0;if(i.showDiff&&(f=!1,i.actual=c=JSON.stringify(c,null,2),i.expected=d=JSON.stringify(d,null,2)),"string"==typeof c&&"string"==typeof d){var p=Math.max(c.length,d.length);u=20>p?s(i,"Chars",f):s(i,"Words",f);var m=u.split("\n");if(m.length>4){var g=String(m.length).length;u=m.map(function(e,t){return r(++t,g)+" | "+e}).join("\n")}u="\n"+h("diff removed","actual")+" "+h("diff added","expected")+"\n\n"+u+"\n",u=u.replace(/^/gm,"      "),n=h("error title","  %s) %s:\n%s")+h("error stack","\n%s\n")}a=a.slice(l?l+1:l).replace(/^/gm,"  "),console.error(n,t+1,e.fullTitle(),u,a)})},i.prototype.epilogue=function(){function e(e){return 1==e?"test":"tests"}var n,r=this.stats;return console.log(),r.failures?(n=h("bright fail","  "+t.symbols.err)+h("fail"," %d of %d %s failed")+h("light",":"),console.error(n,r.failures,this.runner.total,e(this.runner.total)),i.list(this.failures),void console.error()):(n=h("bright pass"," ")+h("green"," %d %s complete")+h("light"," (%s)"),console.log(n,r.tests||0,e(r.tests),u(r.duration)),r.pending&&(n=h("pending"," ")+h("pending"," %d %s pending"),console.log(n,r.pending,e(r.pending))),void console.log())}}),e.register("reporters/doc.js",function(e,t,n){function i(e){function t(){return Array(n).join("  ")}r.call(this,e);var n=(this.stats,e.total,2);e.on("suite",function(e){e.root||(++n,console.log('%s<section class="suite">',t()),++n,console.log("%s<h1>%s</h1>",t(),s.escape(e.title)),console.log("%s<dl>",t()))}),e.on("suite end",function(e){e.root||(console.log("%s</dl>",t()),--n,console.log("%s</section>",t()),--n)}),e.on("pass",function(e){console.log("%s  <dt>%s</dt>",t(),s.escape(e.title));var n=s.escape(s.clean(e.fn.toString()));console.log("%s  <dd><pre><code>%s</code></pre></dd>",t(),n)})}var r=n("./base"),s=n("../utils");t=e.exports=i}),e.register("reporters/dot.js",function(e,t,n){function i(e){r.call(this,e);var t=this,n=(this.stats,.75*r.window.width|0),i=0;e.on("start",function(){process.stdout.write("\n  ")}),e.on("pending",function(){process.stdout.write(s("pending",r.symbols.dot))}),e.on("pass",function(e){++i%n==0&&process.stdout.write("\n  "),process.stdout.write("slow"==e.speed?s("bright yellow",r.symbols.dot):s(e.speed,r.symbols.dot))}),e.on("fail",function(){++i%n==0&&process.stdout.write("\n  "),process.stdout.write(s("fail",r.symbols.dot))}),e.on("end",function(){console.log(),t.epilogue()})}var r=n("./base"),s=r.color;t=e.exports=i,i.prototype=new r,i.prototype.constructor=i}),e.register("reporters/html-cov.js",function(e,t,n){function i(e){var t=n("jade"),i=__dirname+"/templates/coverage.jade",a=o.readFileSync(i,"utf8"),l=t.compile(a,{filename:i}),u=this;s.call(this,e,!1),e.on("end",function(){process.stdout.write(l({cov:u.cov,coverageClass:r}))})}function r(e){return e>=75?"high":e>=50?"medium":e>=25?"low":"terrible"}var s=n("./json-cov"),o=n("browser/fs");t=e.exports=i}),e.register("reporters/html.js",function(e,t,n){function i(e,t){c.call(this,e);var n,i,g=this.stats,y=(e.total,s(m)),v=y.getElementsByTagName("li"),w=v[1].getElementsByTagName("em")[0],b=v[1].getElementsByTagName("a")[0],_=v[2].getElementsByTagName("em")[0],x=v[2].getElementsByTagName("a")[0],C=v[3].getElementsByTagName("em")[0],$=y.getElementsByTagName("canvas")[0],k=s('<ul id="mocha-report"></ul>'),F=[k];if(t=t||document.getElementById("mocha"),$.getContext){var E=window.devicePixelRatio||1;$.style.width=$.width,$.style.height=$.height,$.width*=E,$.height*=E,i=$.getContext("2d"),i.scale(E,E),n=new h}return t?(u(b,"click",function(){a();var e=/pass/.test(k.className)?"":" pass";k.className=k.className.replace(/fail|pass/g,"")+e,k.className.trim()&&o("test pass")}),u(x,"click",function(){a();var e=/fail/.test(k.className)?"":" fail";k.className=k.className.replace(/fail|pass/g,"")+e,k.className.trim()&&o("test fail")}),t.appendChild(y),t.appendChild(k),n&&n.size(40),e.on("suite",function(e){if(!e.root){var t="?grep="+encodeURIComponent(e.fullTitle()),n=s('<li class="suite"><h1><a href="%s">%s</a></h1></li>',t,f(e.title));F[0].appendChild(n),F.unshift(document.createElement("ul")),n.appendChild(F[0])}}),e.on("suite end",function(e){e.root||F.shift()}),e.on("fail",function(t){"hook"==t.type&&e.emit("test end",t)}),void e.on("test end",function(e){window.scrollTo(0,document.body.scrollHeight);var t=g.tests/this.total*100|0;n&&n.update(t).draw(i);var r=new p-g.start;if(l(w,g.passes),l(_,g.failures),l(C,(r/1e3).toFixed(2)),"passed"==e.state)var o=s('<li class="test pass %e"><h2>%e<span class="duration">%ems</span> <a href="?grep=%e" class="replay">\u2023</a></h2></li>',e.speed,e.title,e.duration,encodeURIComponent(e.fullTitle()));else if(e.pending)var o=s('<li class="test pass pending"><h2>%e</h2></li>',e.title);else{var o=s('<li class="test fail"><h2>%e <a href="?grep=%e" class="replay">\u2023</a></h2></li>',e.title,encodeURIComponent(e.fullTitle())),a=e.err.stack||e.err.toString();~a.indexOf(e.err.message)||(a=e.err.message+"\n"+a),"[object Error]"==a&&(a=e.err.message),!e.err.stack&&e.err.sourceURL&&void 0!==e.err.line&&(a+="\n("+e.err.sourceURL+":"+e.err.line+")"),o.appendChild(s('<pre class="error">%e</pre>',a))}if(!e.pending){var c=o.getElementsByTagName("h2")[0];u(c,"click",function(){h.style.display="none"==h.style.display?"inline-block":"none"});var h=s("<pre><code>%e</code></pre>",d.clean(e.fn.toString()));o.appendChild(h),h.style.display="none"}F[0]&&F[0].appendChild(o)})):r("#mocha div missing, add it to your document")}function r(e){document.body.appendChild(s('<div id="mocha-error">%s</div>',e))}function s(e){var t=arguments,n=document.createElement("div"),i=1;return n.innerHTML=e.replace(/%([se])/g,function(e,n){switch(n){case"s":return String(t[i++]);case"e":return f(t[i++])}}),n.firstChild}function o(e){for(var t=document.getElementsByClassName("suite"),n=0;n<t.length;n++){var i=t[n].getElementsByClassName(e);0==i.length&&(t[n].className+=" hidden")}}function a(){for(var e=document.getElementsByClassName("suite hidden"),t=0;t<e.length;++t)e[t].className=e[t].className.replace("suite hidden","suite")}function l(e,t){e.textContent?e.textContent=t:e.innerText=t}function u(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}{var c=n("./base"),d=n("../utils"),h=n("../browser/progress"),f=d.escape,p=global.Date;global.setTimeout,global.setInterval,global.clearTimeout,global.clearInterval}t=e.exports=i;var m='<ul id="mocha-stats"><li class="progress"><canvas width="40" height="40"></canvas></li><li class="passes"><a href="#">passes:</a> <em>0</em></li><li class="failures"><a href="#">failures:</a> <em>0</em></li><li class="duration">duration: <em>0</em>s</li></ul>'}),e.register("reporters/index.js",function(e,t,n){t.Base=n("./base"),t.Dot=n("./dot"),t.Doc=n("./doc"),t.TAP=n("./tap"),t.JSON=n("./json"),t.HTML=n("./html"),t.List=n("./list"),t.Min=n("./min"),t.Spec=n("./spec"),t.Nyan=n("./nyan"),t.XUnit=n("./xunit"),t.Markdown=n("./markdown"),t.Progress=n("./progress"),t.Landing=n("./landing"),t.JSONCov=n("./json-cov"),t.HTMLCov=n("./html-cov"),t.JSONStream=n("./json-stream"),t.Teamcity=n("./teamcity")}),e.register("reporters/json-cov.js",function(e,t,n){function i(e,t){var n=this,t=1==arguments.length?!0:t;a.call(this,e);var i=[],s=[],l=[];e.on("test end",function(e){i.push(e)}),e.on("pass",function(e){l.push(e)}),e.on("fail",function(e){s.push(e)}),e.on("end",function(){var e=global._$jscoverage||{},a=n.cov=r(e);a.stats=n.stats,a.tests=i.map(o),a.failures=s.map(o),a.passes=l.map(o),t&&process.stdout.write(JSON.stringify(a,null,2))})}function r(e){var t={instrumentation:"node-jscoverage",sloc:0,hits:0,misses:0,coverage:0,files:[]};for(var n in e){var i=s(n,e[n]);t.files.push(i),t.hits+=i.hits,t.misses+=i.misses,t.sloc+=i.sloc}return t.files.sort(function(e,t){return e.filename.localeCompare(t.filename)}),t.sloc>0&&(t.coverage=t.hits/t.sloc*100),t}function s(e,t){var n={filename:e,coverage:0,hits:0,misses:0,sloc:0,source:{}};return t.source.forEach(function(e,i){i++,0===t[i]?(n.misses++,n.sloc++):void 0!==t[i]&&(n.hits++,n.sloc++),n.source[i]={source:e,coverage:void 0===t[i]?"":t[i]}}),n.coverage=n.hits/n.sloc*100,n}function o(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}var a=n("./base");t=e.exports=i}),e.register("reporters/json-stream.js",function(e,t,n){function i(e){s.call(this,e);var t=this,n=(this.stats,e.total);e.on("start",function(){console.log(JSON.stringify(["start",{total:n}]))}),e.on("pass",function(e){console.log(JSON.stringify(["pass",r(e)]))}),e.on("fail",function(e){console.log(JSON.stringify(["fail",r(e)]))}),e.on("end",function(){process.stdout.write(JSON.stringify(["end",t.stats]))})}function r(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}{var s=n("./base");s.color}t=e.exports=i}),e.register("reporters/json.js",function(e,t,n){function i(e){var t=this;s.call(this,e);var n=[],i=[],o=[];e.on("test end",function(e){n.push(e)}),e.on("pass",function(e){o.push(e)}),e.on("fail",function(e){i.push(e)}),e.on("end",function(){var e={stats:t.stats,tests:n.map(r),failures:i.map(r),passes:o.map(r)};process.stdout.write(JSON.stringify(e,null,2))})}function r(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}{var s=n("./base");s.cursor,s.color}t=e.exports=i}),e.register("reporters/landing.js",function(e,t,n){function i(e){function t(){var e=Array(i).join("-");return"  "+o("runway",e)}r.call(this,e);var n=this,i=(this.stats,.75*r.window.width|0),a=e.total,l=process.stdout,u=o("plane","\u2708"),c=-1,d=0;e.on("start",function(){l.write("\n  "),s.hide()}),e.on("test end",function(e){var n=-1==c?i*++d/a|0:c;"failed"==e.state&&(u=o("plane crash","\u2708"),c=n),l.write("[4F\n\n"),l.write(t()),l.write("\n  "),l.write(o("runway",Array(n).join("\u22c5"))),l.write(u),l.write(o("runway",Array(i-n).join("\u22c5")+"\n")),l.write(t()),l.write("[0m")}),e.on("end",function(){s.show(),console.log(),n.epilogue()})}var r=n("./base"),s=r.cursor,o=r.color;t=e.exports=i,r.colors.plane=0,r.colors["plane crash"]=31,r.colors.runway=90,i.prototype=new r,i.prototype.constructor=i}),e.register("reporters/list.js",function(e,t,n){function i(e){r.call(this,e);var t=this,n=(this.stats,0);e.on("start",function(){console.log()}),e.on("test",function(e){process.stdout.write(o("pass","    "+e.fullTitle()+": "))}),e.on("pending",function(e){var t=o("checkmark","  -")+o("pending"," %s");console.log(t,e.fullTitle())}),e.on("pass",function(e){var t=o("checkmark","  "+r.symbols.dot)+o("pass"," %s: ")+o(e.speed,"%dms");s.CR(),console.log(t,e.fullTitle(),e.duration)}),e.on("fail",function(e){s.CR(),console.log(o("fail","  %d) %s"),++n,e.fullTitle())}),e.on("end",t.epilogue.bind(t))}var r=n("./base"),s=r.cursor,o=r.color;t=e.exports=i,i.prototype=new r,i.prototype.constructor=i}),e.register("reporters/markdown.js",function(e,t,n){function i(e){function t(e){return Array(a).join("#")+" "+e}function n(e,t){var i=t;return t=t[e.title]=t[e.title]||{suite:e},e.suites.forEach(function(e){n(e,t)}),i}function i(e,t){++t;var n,r="";for(var o in e)"suite"!=o&&(o&&(n=" - ["+o+"](#"+s.slug(e[o].suite.fullTitle())+")\n"),o&&(r+=Array(t).join("  ")+n),r+=i(e[o],t));return--t,r}function o(e){var t=n(e,{});return i(t,0)}r.call(this,e);var a=(this.stats,e.total,0),l="";o(e.suite),e.on("suite",function(e){++a;var n=s.slug(e.fullTitle());l+='<a name="'+n+'"></a>\n',l+=t(e.title)+"\n"}),e.on("suite end",function(){--a}),e.on("pass",function(e){var t=s.clean(e.fn.toString());l+=e.title+".\n",l+="\n```js\n",l+=t+"\n",l+="```\n\n"}),e.on("end",function(){process.stdout.write("# TOC\n"),process.stdout.write(o(e.suite)),process.stdout.write(l)})}var r=n("./base"),s=n("../utils");t=e.exports=i}),e.register("reporters/min.js",function(e,t,n){function i(e){r.call(this,e),e.on("start",function(){process.stdout.write("[2J"),process.stdout.write("[1;3H")}),e.on("end",this.epilogue.bind(this))}var r=n("./base");t=e.exports=i,i.prototype=new r,i.prototype.constructor=i}),e.register("reporters/nyan.js",function(e,t,n){function i(e){s.call(this,e);{var t=this,n=(this.stats,.75*s.window.width|0),i=(this.rainbowColors=t.generateColors(),this.colorIndex=0,this.numberOfLines=4,this.trajectories=[[],[],[],[]],this.nyanCatWidth=11);this.trajectoryWidthMax=n-i,this.scoreboardWidth=5,this.tick=0}e.on("start",function(){s.cursor.hide(),t.draw("start")}),e.on("pending",function(){t.draw("pending")}),e.on("pass",function(){t.draw("pass")}),e.on("fail",function(){t.draw("fail")}),e.on("end",function(){s.cursor.show();for(var e=0;e<t.numberOfLines;e++)r("\n");t.epilogue()})}function r(e){process.stdout.write(e)}{var s=n("./base");s.color}t=e.exports=i,i.prototype.draw=function(e){this.appendRainbow(),this.drawScoreboard(),this.drawRainbow(),this.drawNyanCat(e),this.tick=!this.tick},i.prototype.drawScoreboard=function(){function e(e,t){r(" "),r("["+e+"m"+t+"[0m"),r("\n")}var t=this.stats,n=s.colors;e(n.green,t.passes),e(n.fail,t.failures),e(n.pending,t.pending),r("\n"),this.cursorUp(this.numberOfLines)},i.prototype.appendRainbow=function(){for(var e=this.tick?"_":"-",t=this.rainbowify(e),n=0;n<this.numberOfLines;n++){var i=this.trajectories[n];i.length>=this.trajectoryWidthMax&&i.shift(),i.push(t)}},i.prototype.drawRainbow=function(){var e=this;this.trajectories.forEach(function(t){r("["+e.scoreboardWidth+"C"),r(t.join("")),r("\n")}),this.cursorUp(this.numberOfLines)},i.prototype.drawNyanCat=function(e){var t=this,n=this.scoreboardWidth+this.trajectories[0].length;[0,1,2,3].forEach(function(i){switch(r("["+n+"C"),i){case 0:r("_,------,"),r("\n");break;case 1:var s=t.tick?"  ":"   ";r("_|"+s+"/\\_/\\ "),r("\n");break;case 2:var o,s=t.tick?"_":"__",a=t.tick?"~":"^";switch(e){case"pass":o="( ^ .^)";break;case"fail":o="( o .o)";break;default:o="( - .-)"}r(a+"|"+s+o+" "),r("\n");break;case 3:var s=t.tick?" ":"  ";r(s+'""  "" '),r("\n")}}),this.cursorUp(this.numberOfLines)},i.prototype.cursorUp=function(e){r("["+e+"A")},i.prototype.cursorDown=function(e){r("["+e+"B")},i.prototype.generateColors=function(){for(var e=[],t=0;42>t;t++){var n=Math.floor(Math.PI/3),i=t*(1/6),r=Math.floor(3*Math.sin(i)+3),s=Math.floor(3*Math.sin(i+2*n)+3),o=Math.floor(3*Math.sin(i+4*n)+3);e.push(36*r+6*s+o+16)}return e},i.prototype.rainbowify=function(e){var t=this.rainbowColors[this.colorIndex%this.rainbowColors.length];return this.colorIndex+=1,"[38;5;"+t+"m"+e+"[0m"},i.prototype=new s,i.prototype.constructor=i}),e.register("reporters/progress.js",function(e,t,n){function i(e,t){r.call(this,e);{var n=this,t=t||{},i=(this.stats,.5*r.window.width|0),a=e.total,l=0;Math.max}t.open=t.open||"[",t.complete=t.complete||"\u25ac",t.incomplete=t.incomplete||r.symbols.dot,t.close=t.close||"]",t.verbose=!1,e.on("start",function(){console.log(),s.hide()}),e.on("test end",function(){l++;var e=l/a,n=i*e|0,r=i-n;s.CR(),process.stdout.write("[J"),process.stdout.write(o("progress","  "+t.open)),process.stdout.write(Array(n).join(t.complete)),process.stdout.write(Array(r).join(t.incomplete)),process.stdout.write(o("progress",t.close)),t.verbose&&process.stdout.write(o("progress"," "+l+" of "+a))}),e.on("end",function(){s.show(),console.log(),n.epilogue()})}var r=n("./base"),s=r.cursor,o=r.color;t=e.exports=i,r.colors.progress=90,i.prototype=new r,i.prototype.constructor=i}),e.register("reporters/spec.js",function(e,t,n){function i(e){function t(){return Array(i).join("  ")}r.call(this,e);var n=this,i=(this.stats,0),a=0;e.on("start",function(){console.log()}),e.on("suite",function(e){++i,console.log(o("suite","%s%s"),t(),e.title)}),e.on("suite end",function(){--i,1==i&&console.log()}),e.on("test",function(e){process.stdout.write(t()+o("pass","  \u25e6 "+e.title+": "))}),e.on("pending",function(e){var n=t()+o("pending","  - %s");console.log(n,e.title)}),e.on("pass",function(e){if("fast"==e.speed){var n=t()+o("checkmark","  "+r.symbols.ok)+o("pass"," %s ");s.CR(),console.log(n,e.title)}else{var n=t()+o("checkmark","  "+r.symbols.ok)+o("pass"," %s ")+o(e.speed,"(%dms)");s.CR(),console.log(n,e.title,e.duration)}}),e.on("fail",function(e){s.CR(),console.log(t()+o("fail","  %d) %s"),++a,e.title)}),e.on("end",n.epilogue.bind(n))}var r=n("./base"),s=r.cursor,o=r.color;t=e.exports=i,i.prototype=new r,i.prototype.constructor=i}),e.register("reporters/tap.js",function(e,t,n){function i(e){s.call(this,e);var t=(this.stats,1);e.on("start",function(){var t=e.grepTotal(e.suite);console.log("%d..%d",1,t)}),e.on("test end",function(){++t}),e.on("pending",function(e){console.log("ok %d %s # SKIP -",t,r(e))}),e.on("pass",function(e){console.log("ok %d %s",t,r(e))}),e.on("fail",function(e,n){console.log("not ok %d %s",t,r(e)),console.log(n.stack.replace(/^/gm,"  "))})}function r(e){return e.fullTitle().replace(/#/g,"")}{var s=n("./base");s.cursor,s.color}t=e.exports=i}),e.register("reporters/teamcity.js",function(e,t,n){function i(e){s.call(this,e);var t=this.stats;e.on("start",function(){console.log("##teamcity[testSuiteStarted name='mocha.suite']")}),e.on("test",function(e){console.log("##teamcity[testStarted name='"+r(e.fullTitle())+"']")}),e.on("fail",function(e,t){console.log("##teamcity[testFailed name='"+r(e.fullTitle())+"' message='"+r(t.message)+"']")}),e.on("pending",function(e){console.log("##teamcity[testIgnored name='"+r(e.fullTitle())+"' message='pending']")}),e.on("test end",function(e){console.log("##teamcity[testFinished name='"+r(e.fullTitle())+"' duration='"+e.duration+"']")}),e.on("end",function(){console.log("##teamcity[testSuiteFinished name='mocha.suite' duration='"+t.duration+"']")})}function r(e){return e.replace(/\|/g,"||").replace(/\n/g,"|n").replace(/\r/g,"|r").replace(/\[/g,"|[").replace(/\]/g,"|]").replace(/\u0085/g,"|x").replace(/\u2028/g,"|l").replace(/\u2029/g,"|p").replace(/'/g,"|'")}var s=n("./base");t=e.exports=i}),e.register("reporters/xunit.js",function(e,t,n){function i(e){a.call(this,e);var t=this.stats,n=[];e.on("pass",function(e){n.push(e)}),e.on("fail",function(e){n.push(e)}),e.on("end",function(){console.log(s("testsuite",{name:"Mocha Tests",tests:t.tests,failures:t.failures,errors:t.failures,skip:t.tests-t.failures-t.passes,timestamp:(new c).toUTCString(),time:t.duration/1e3},!1)),n.forEach(r),console.log("</testsuite>")})}function r(e){var t={classname:e.parent.fullTitle(),name:e.title,time:e.duration/1e3};if("failed"==e.state){var n=e.err;t.message=u(n.message),console.log(s("testcase",t,!1,s("failure",t,!1,o(n.stack))))}else console.log(e.pending?s("testcase",t,!1,s("skipped",{},!0)):s("testcase",t,!0))}function s(e,t,n,i){var r,s=n?"/>":">",o=[];for(var a in t)o.push(a+'="'+u(t[a])+'"');return r="<"+e+(o.length?" "+o.join(" "):"")+s,i&&(r+=i+"</"+e+s),r}function o(e){return"<![CDATA["+u(e)+"]]>"}{var a=n("./base"),l=n("../utils"),u=l.escape,c=global.Date;global.setTimeout,global.setInterval,global.clearTimeout,global.clearInterval}t=e.exports=i,i.prototype=new a,i.prototype.constructor=i}),e.register("runnable.js",function(e,t,n){function i(e,t){this.title=e,this.fn=t,this.async=t&&t.length,this.sync=!this.async,this._timeout=2e3,this._slow=75,this.timedOut=!1}var r=n("browser/events").EventEmitter,s=n("browser/debug")("mocha:runnable"),o=n("./ms"),a=global.Date,l=global.setTimeout,u=(global.setInterval,global.clearTimeout),c=(global.clearInterval,Object.prototype.toString);e.exports=i,i.prototype=new r,i.prototype.constructor=i,i.prototype.timeout=function(e){return 0==arguments.length?this._timeout:("string"==typeof e&&(e=o(e)),s("timeout %d",e),this._timeout=e,this.timer&&this.resetTimeout(),this)},i.prototype.slow=function(e){return 0===arguments.length?this._slow:("string"==typeof e&&(e=o(e)),s("timeout %d",e),this._slow=e,this)},i.prototype.fullTitle=function(){return this.parent.fullTitle()+" "+this.title},i.prototype.clearTimeout=function(){u(this.timer)},i.prototype.inspect=function(){return JSON.stringify(this,function(e,t){return"_"!=e[0]?"parent"==e?"#<Suite>":"ctx"==e?"#<Context>":t:void 0},2)},i.prototype.resetTimeout=function(){var e=this,t=this.timeout();this.clearTimeout(),t&&(this.timer=l(function(){e.callback(new Error("timeout of "+t+"ms exceeded")),e.timedOut=!0},t))},i.prototype.run=function(e){function t(e){r||(r=!0,s.emit("error",e||new Error("done() called multiple times")))}function n(n){if(!s.timedOut){if(i)return t(n);s.clearTimeout(),s.duration=new a-u,i=!0,e(n)}}var i,r,s=this,o=this.timeout(),u=new a,d=this.ctx;if(d&&d.runnable(this),this.async&&o&&(this.timer=l(function(){n(new Error("timeout of "+o+"ms exceeded")),s.timedOut=!0},o)),this.callback=n,this.async)try{this.fn.call(d,function(e){return"[object Error]"===c.call(e)?n(e):null!=e?n(new Error("done() invoked with non-Error: "+e)):void n()})}catch(h){n(h)}else{if(this.asyncOnly)return n(new Error("--async-only option in use without declaring `done()`"));try{this.pending||this.fn.call(d),this.duration=new a-u,e()}catch(h){e(h)}}}}),e.register("runner.js",function(e,t,n){function i(e){var t=this;this._globals=[],this.suite=e,this.total=e.total(),this.failures=0,this.on("test end",function(e){t.checkGlobals(e)}),this.on("hook end",function(e){t.checkGlobals(e)}),this.grep(/.*/),this.globals(this.globalProps().concat(["errno"]))}function r(e,t){return l(t,function(t){var n=l(e,function(e){return~e.indexOf("*")?0==t.indexOf(e.split("*")[0]):/^mocha-/.test(t)?!0:t==e});return 0==n.length&&(!global.navigator||"onerror"!==t)})}var s=n("browser/events").EventEmitter,o=n("browser/debug")("mocha:runner"),a=(n("./test"),n("./utils")),l=a.filter,u=(a.keys,["setTimeout","clearTimeout","setInterval","clearInterval","XMLHttpRequest","Date"]);e.exports=i,i.prototype=new s,i.prototype.constructor=i,i.prototype.grep=function(e,t){return o("grep %s",e),this._grep=e,this._invert=t,this.total=this.grepTotal(this.suite),this},i.prototype.grepTotal=function(e){var t=this,n=0;return e.eachTest(function(e){var i=t._grep.test(e.fullTitle());t._invert&&(i=!i),i&&n++}),n},i.prototype.globalProps=function(){for(var e=a.keys(global),t=0;t<u.length;++t)~e.indexOf(u[t])||e.push(u[t]);return e},i.prototype.globals=function(e){return 0==arguments.length?this._globals:(o("globals %j",e),a.forEach(e,function(e){this._globals.push(e)},this),this)},i.prototype.checkGlobals=function(e){if(!this.ignoreLeaks){var t,n=this._globals,i=this.globalProps(),s=process.kill;s&&1==n.length-i.length||2!=n.length-i.length&&(t=r(n,i),this._globals=this._globals.concat(t),t.length>1?this.fail(e,new Error("global leaks detected: "+t.join(", "))):t.length&&this.fail(e,new Error("global leak detected: "+t[0])))}},i.prototype.fail=function(e,t){++this.failures,e.state="failed","string"==typeof t&&(t=new Error('the string "'+t+'" was thrown, throw an Error :)')),this.emit("fail",e,t)},i.prototype.failHook=function(e,t){this.fail(e,t),this.emit("end")},i.prototype.hook=function(e,t){function n(e){var i=r[e];return i?(s.currentRunnable=i,s.emit("hook",i),i.on("error",function(e){s.failHook(i,e)}),void i.run(function(t){i.removeAllListeners("error");var r=i.error();return r&&s.fail(s.test,r),t?s.failHook(i,t):(s.emit("hook end",i),void n(++e))})):t()}var i=this.suite,r=i["_"+e],s=this;process.nextTick(function(){n(0)})},i.prototype.hooks=function(e,t,n){function i(o){return r.suite=o,o?void r.hook(e,function(e){return e?(r.suite=s,n(e)):void i(t.pop())}):(r.suite=s,n())}var r=this,s=this.suite;i(t.pop())},i.prototype.hookUp=function(e,t){var n=[this.suite].concat(this.parents()).reverse();this.hooks(e,n,t)},i.prototype.hookDown=function(e,t){var n=[this.suite].concat(this.parents());this.hooks(e,n,t)},i.prototype.parents=function(){for(var e=this.suite,t=[];e=e.parent;)t.push(e);return t},i.prototype.runTest=function(e){var t=this.test,n=this;this.asyncOnly&&(t.asyncOnly=!0);try{t.on("error",function(e){n.fail(t,e)}),t.run(e)}catch(i){e(i)}},i.prototype.runTests=function(e,t){function n(){if(r.failures&&e._bail)return t();if(i=s.shift(),!i)return t();var o=r._grep.test(i.fullTitle());return r._invert&&(o=!o),o?i.pending?(r.emit("pending",i),r.emit("test end",i),n()):(r.emit("test",r.test=i),void r.hookDown("beforeEach",function(){r.currentRunnable=r.test,r.runTest(function(e){return i=r.test,e?(r.fail(i,e),r.emit("test end",i),r.hookUp("afterEach",n)):(i.state="passed",r.emit("pass",i),r.emit("test end",i),void r.hookUp("afterEach",n))})})):n()}var i,r=this,s=e.tests.slice();this.next=n,n()},i.prototype.runSuite=function(e,t){function n(){var t=e.suites[a++];return t?void s.runSuite(t,n):i()}function i(){s.suite=e,s.hook("afterAll",function(){s.emit("suite end",e),t()})}var r=this.grepTotal(e),s=this,a=0;return o("run suite %s",e.fullTitle()),r?(this.emit("suite",this.suite=e),void this.hook("beforeAll",function(){s.runTests(e,n)})):t()},i.prototype.uncaught=function(e){o("uncaught exception %s",e.message);var t=this.currentRunnable;if(t&&"failed"!=t.state)return t.clearTimeout(),e.uncaught=!0,this.fail(t,e),"test"==t.type?(this.emit("test end",t),void this.hookUp("afterEach",this.next)):void this.emit("end")},i.prototype.run=function(e){function t(e,t,i){n.uncaught(new Error(e+" ("+t+":"+i+")"))}var n=this,e=e||function(){};return o("start"),this.on("end",function(){o("end"),process.removeListener("uncaughtException",t),e(n.failures)}),this.emit("start"),this.runSuite(this.suite,function(){o("finished running"),n.emit("end")}),process.on("uncaughtException",t),this}}),e.register("suite.js",function(e,t,n){function i(e,t){this.title=e,this.ctx=t,this.suites=[],this.tests=[],this.pending=!1,this._beforeEach=[],this._beforeAll=[],this._afterEach=[],this._afterAll=[],this.root=!e,this._timeout=2e3,this._slow=75,this._bail=!1}var r=n("browser/events").EventEmitter,s=n("browser/debug")("mocha:suite"),o=n("./ms"),a=n("./utils"),l=n("./hook");t=e.exports=i,t.create=function(e,t){var n=new i(t,e.ctx);return n.parent=e,e.pending&&(n.pending=!0),t=n.fullTitle(),e.addSuite(n),n},i.prototype=new r,i.prototype.constructor=i,i.prototype.clone=function(){var e=new i(this.title);return s("clone"),e.ctx=this.ctx,e.timeout(this.timeout()),e.slow(this.slow()),e.bail(this.bail()),e},i.prototype.timeout=function(e){return 0==arguments.length?this._timeout:("string"==typeof e&&(e=o(e)),s("timeout %d",e),this._timeout=parseInt(e,10),this)},i.prototype.slow=function(e){return 0===arguments.length?this._slow:("string"==typeof e&&(e=o(e)),s("slow %d",e),this._slow=e,this)},i.prototype.bail=function(e){return 0==arguments.length?this._bail:(s("bail %s",e),this._bail=e,this)},i.prototype.beforeAll=function(e){if(this.pending)return this;var t=new l('"before all" hook',e);return t.parent=this,t.timeout(this.timeout()),t.slow(this.slow()),t.ctx=this.ctx,this._beforeAll.push(t),this.emit("beforeAll",t),this},i.prototype.afterAll=function(e){if(this.pending)return this;var t=new l('"after all" hook',e);return t.parent=this,t.timeout(this.timeout()),t.slow(this.slow()),t.ctx=this.ctx,this._afterAll.push(t),this.emit("afterAll",t),this},i.prototype.beforeEach=function(e){if(this.pending)return this;var t=new l('"before each" hook',e);return t.parent=this,t.timeout(this.timeout()),t.slow(this.slow()),t.ctx=this.ctx,this._beforeEach.push(t),this.emit("beforeEach",t),this},i.prototype.afterEach=function(e){if(this.pending)return this;var t=new l('"after each" hook',e);return t.parent=this,t.timeout(this.timeout()),t.slow(this.slow()),t.ctx=this.ctx,this._afterEach.push(t),this.emit("afterEach",t),this
},i.prototype.addSuite=function(e){return e.parent=this,e.timeout(this.timeout()),e.slow(this.slow()),e.bail(this.bail()),this.suites.push(e),this.emit("suite",e),this},i.prototype.addTest=function(e){return e.parent=this,e.timeout(this.timeout()),e.slow(this.slow()),e.ctx=this.ctx,this.tests.push(e),this.emit("test",e),this},i.prototype.fullTitle=function(){if(this.parent){var e=this.parent.fullTitle();if(e)return e+" "+this.title}return this.title},i.prototype.total=function(){return a.reduce(this.suites,function(e,t){return e+t.total()},0)+this.tests.length},i.prototype.eachTest=function(e){return a.forEach(this.tests,e),a.forEach(this.suites,function(t){t.eachTest(e)}),this}}),e.register("test.js",function(e,t,n){function i(e,t){r.call(this,e,t),this.pending=!t,this.type="test"}var r=n("./runnable");e.exports=i,i.prototype=new r,i.prototype.constructor=i}),e.register("utils.js",function(e,t,n){function i(e){return!~u.indexOf(e)}function r(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew *(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}var s=n("browser/fs"),o=n("browser/path"),a=o.join,l=n("browser/debug")("mocha:watch"),u=["node_modules",".git"];t.escape=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.forEach=function(e,t,n){for(var i=0,r=e.length;r>i;i++)t.call(n,e[i],i)},t.indexOf=function(e,t,n){for(var i=n||0,r=e.length;r>i;i++)if(e[i]===t)return i;return-1},t.reduce=function(e,t,n){for(var i=n,r=0,s=e.length;s>r;r++)i=t(i,e[r],r,e);return i},t.filter=function(e,t){for(var n=[],i=0,r=e.length;r>i;i++){var s=e[i];t(s,i,e)&&n.push(s)}return n},t.keys=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t},t.watch=function(e,t){var n={interval:100};e.forEach(function(e){l("file %s",e),s.watchFile(e,n,function(n,i){i.mtime<n.mtime&&t(e)})})},t.files=function(e,n){return n=n||[],s.readdirSync(e).filter(i).forEach(function(i){i=a(e,i),s.statSync(i).isDirectory()?t.files(i,n):i.match(/\.(js|coffee)$/)&&n.push(i)}),n},t.slug=function(e){return e.toLowerCase().replace(/ +/g,"-").replace(/[^-\w]/g,"")},t.clean=function(e){e=e.replace(/^function *\(.*\) *{/,"").replace(/\s+\}$/,"");var n=e.match(/^\n?( *)/)[1].length,i=new RegExp("^ {"+n+"}","gm");return e=e.replace(i,""),t.trim(e)},t.escapeRegexp=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},t.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},t.parseQuery=function(e){return t.reduce(e.replace("?","").split("&"),function(e,t){var n=t.indexOf("="),i=t.slice(0,n),r=t.slice(++n);return e[i]=decodeURIComponent(r),e},{})},t.highlightTags=function(e){for(var t=document.getElementsByTagName(e),n=0,i=t.length;i>n;++n)t[n].innerHTML=r(t[n].innerHTML)}}),process={},process.exit=function(){},process.stdout={},global=window,process.nextTick=function(){if(window.ActiveXObject||!window.postMessage)return function(e){e()};var e=[],t="mocha-zero-timeout";return window.addEventListener("message",function(n){n.source==window&&n.data==t&&(n.stopPropagation&&n.stopPropagation(),e.length&&e.shift()())},!0),function(n){e.push(n),window.postMessage(t,"*")}}(),process.removeListener=function(e){"uncaughtException"==e&&(window.onerror=null)},process.on=function(e,t){"uncaughtException"==e&&(window.onerror=t)},function(){var t=window.Mocha=e("mocha"),n=window.mocha=new t({reporter:"html"});n.ui=function(e){return t.prototype.ui.call(this,e),this.suite.emit("pre-require",window,null,this),this},n.setup=function(e){"string"==typeof e&&(e={ui:e});for(var t in e)this[t](e[t]);return this},n.run=function(e){n.options;n.globals("location");var i=t.utils.parseQuery(window.location.search||"");return i.grep&&n.grep(i.grep),i.invert&&n.invert(),t.prototype.run.call(n,function(){t.utils.highlightTags("code"),e&&e()})}}()}();