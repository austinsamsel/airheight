var Zepto=function(){function e(e){return"[object Function]"==V.call(e)}function t(e){return e instanceof Object}function n(e){return t(e)&&e.__proto__==Object.prototype}function i(e){return e instanceof Array}function r(e){return"number"==typeof e.length}function s(e){return C.call(e,function(e){return e!==g&&null!==e})}function o(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function a(e){return e in T?T[e]:T[e]=RegExp("(^|\\s)"+e+"(\\s|$)")}function l(e){return"children"in e?_.call(e.children):y.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function u(e,t,i){for(m in t)i&&n(t[m])?(n(e[m])||(e[m]={}),u(e[m],t[m],i)):t[m]!==g&&(e[m]=t[m])}function c(e,t){return t===g?y(e):y(e).filter(t)}function d(t,n,i,r){return e(n)?n.call(t,i,r):n}function h(e,t){var n=e.className,i=n&&n.baseVal!==g;return t===g?i?n.baseVal:n:void(i?n.baseVal=t:e.className=t)}function f(e){var t;try{return e?"true"==e||("false"==e?!1:"null"==e?null:isNaN(t=Number(e))?/^[\[\{]/.test(e)?y.parseJSON(e):e:t):e}catch(n){return e}}function p(e,t){t(e);for(var n in e.childNodes)p(e.childNodes[n],t)}var g,m,y,v,w,b,x=[],_=x.slice,C=x.filter,$=window.document,k={},T={},E=$.defaultView.getComputedStyle,F={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},P=/^\s*<(\w+|!)[^>]*>/,S=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,A=/^(?:body|html)$/i,N="val css html text data width height offset".split(" "),j=$.createElement("table"),O=$.createElement("tr"),D={tr:$.createElement("tbody"),tbody:j,thead:j,tfoot:j,td:O,th:O,"*":$.createElement("div")},M=/complete|loaded|interactive/,R=/^\.([\w-]+)$/,q=/^#([\w-]*)$/,L=/^[\w-]+$/,V={}.toString,z={},I=$.createElement("div");return z.matches=function(e,t){if(!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,n=e.parentNode,r=!n;return r&&(n=I).appendChild(e),i=~z.qsa(n,t).indexOf(e),r&&I.removeChild(e),i},w=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},b=function(e){return C.call(e,function(t,n){return e.indexOf(t)==n})},z.fragment=function(e,t,i){e.replace&&(e=e.replace(S,"<$1></$2>")),t===g&&(t=P.test(e)&&RegExp.$1),t in D||(t="*");var r,s,o=D[t];return o.innerHTML=""+e,s=y.each(_.call(o.childNodes),function(){o.removeChild(this)}),n(i)&&(r=y(s),y.each(i,function(e,t){-1<N.indexOf(e)?r[e](t):r.attr(e,t)})),s},z.Z=function(e,t){return e=e||[],e.__proto__=arguments.callee.prototype,e.selector=t||"",e},z.isZ=function(e){return e instanceof z.Z},z.init=function(r,o){if(!r)return z.Z();if(e(r))return y($).ready(r);if(z.isZ(r))return r;var a;if(i(r))a=s(r);else if(t(r))a=[n(r)?y.extend({},r):r],r=null;else if(P.test(r))a=z.fragment(r.trim(),RegExp.$1,o),r=null;else{if(o!==g)return y(o).find(r);a=z.qsa($,r)}return z.Z(a,r)},y=function(e,t){return z.init(e,t)},y.extend=function(e){var t,n=_.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){u(e,n,t)}),e},z.qsa=function(e,t){var n;return e===$&&q.test(t)?(n=e.getElementById(RegExp.$1))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:_.call(R.test(t)?e.getElementsByClassName(RegExp.$1):L.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t))},y.contains=function(e,t){return e!==t&&e.contains(t)},y.isFunction=e,y.isObject=t,y.isArray=i,y.isPlainObject=n,y.inArray=function(e,t,n){return x.indexOf.call(t,e,n)},y.camelCase=w,y.trim=function(e){return e.trim()},y.uuid=0,y.support={},y.expr={},y.map=function(e,t){var n,i,s=[];if(r(e))for(i=0;i<e.length;i++)n=t(e[i],i),null!=n&&s.push(n);else for(i in e)n=t(e[i],i),null!=n&&s.push(n);return 0<s.length?y.fn.concat.apply([],s):s},y.each=function(e,t){var n;if(r(e))for(n=0;n<e.length&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},y.grep=function(e,t){return C.call(e,t)},window.JSON&&(y.parseJSON=JSON.parse),y.fn={forEach:x.forEach,reduce:x.reduce,push:x.push,sort:x.sort,indexOf:x.indexOf,concat:x.concat,map:function(e){return y(y.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return y(_.apply(this,arguments))},ready:function(e){return M.test($.readyState)?e(y):$.addEventListener("DOMContentLoaded",function(){e(y)},!1),this},get:function(e){return e===g?_.call(this):this[e]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return this.forEach(function(t,n){e.call(t,n,t)}),this},filter:function(t){return e(t)?this.not(this.not(t)):y(C.call(this,function(e){return z.matches(e,t)}))},add:function(e,t){return y(b(this.concat(y(e,t))))},is:function(e){return 0<this.length&&z.matches(this[0],e)},not:function(t){var n=[];if(e(t)&&t.call!==g)this.each(function(e){t.call(this,e)||n.push(this)});else{var i="string"==typeof t?this.filter(t):r(t)&&e(t.item)?_.call(t):y(t);this.forEach(function(e){0>i.indexOf(e)&&n.push(e)})}return y(n)},has:function(e){return this.filter(function(){return t(e)?y.contains(this,e):y(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!t(e)?e:y(e)},last:function(){var e=this[this.length-1];return e&&!t(e)?e:y(e)},find:function(e){var t;return t=1==this.length?y(z.qsa(this[0],e)):this.map(function(){return z.qsa(this,e)})},closest:function(e,t){for(var n=this[0];n&&!z.matches(n,e);)n=n!==t&&n!==$&&n.parentNode;return y(n)},parents:function(e){for(var t=[],n=this;0<n.length;)n=y.map(n,function(e){return(e=e.parentNode)&&e!==$&&0>t.indexOf(e)?(t.push(e),e):void 0});return c(t,e)},parent:function(e){return c(b(this.pluck("parentNode")),e)},children:function(e){return c(this.map(function(){return l(this)}),e)},contents:function(){return this.map(function(){return _.call(this.childNodes)})},siblings:function(e){return c(this.map(function(e,t){return C.call(l(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return y.map(this,function(t){return t[e]})},show:function(){return this.each(function(){if("none"==this.style.display&&(this.style.display=null),"none"==E(this,"").getPropertyValue("display")){var e,t=this.style;e=this.nodeName;var n,i;k[e]||(n=$.createElement(e),$.body.appendChild(n),i=E(n,"").getPropertyValue("display"),n.parentNode.removeChild(n),"none"==i&&(i="block"),k[e]=i),e=k[e],t.display=e}})},replaceWith:function(e){return this.before(e).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var i=y(t).get(0),r=i.parentNode||1<this.length;return this.each(function(e){y(this).wrapAll(n?t.call(this,e):r?i.cloneNode(!0):i)})},wrapAll:function(e){if(this[0]){y(this[0]).before(e=y(e));for(var t;(t=e.children()).length;)e=t.first();y(e).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var i=y(this),r=i.contents();e=n?t.call(this,e):t,r.length?r.wrapAll(e):i.append(e)})},unwrap:function(){return this.parent().each(function(){y(this).replaceWith(y(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=y(this);(e===g?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return y(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return y(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return e===g?0<this.length?this[0].innerHTML:null:this.each(function(t){var n=this.innerHTML;y(this).empty().append(d(this,e,t,n))})},text:function(e){return e===g?0<this.length?this[0].textContent:null:this.each(function(){this.textContent=e})},attr:function(e,n){var i;return"string"==typeof e&&n===g?0==this.length||1!==this[0].nodeType?g:"value"==e&&"INPUT"==this[0].nodeName?this.val():!(i=this[0].getAttribute(e))&&e in this[0]?this[0][e]:i:this.each(function(i){if(1===this.nodeType)if(t(e))for(m in e){i=m;var r=e[m];null==r?this.removeAttribute(i):this.setAttribute(i,r)}else i=d(this,n,i,this.getAttribute(e)),null==i?this.removeAttribute(e):this.setAttribute(e,i)})},removeAttr:function(e){return this.each(function(){1===this.nodeType&&this.removeAttribute(e)})},prop:function(e,t){return t===g?this[0]?this[0][e]:g:this.each(function(n){this[e]=d(this,t,n,this[e])})},data:function(e,t){var n=this.attr("data-"+o(e),t);return null!==n?f(n):g},val:function(e){return e===g?0<this.length?this[0].multiple?y(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value:g:this.each(function(t){this.value=d(this,e,t,this.value)})},offset:function(){if(0==this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:e.width,height:e.height}},css:function(e,t){if(2>arguments.length&&"string"==typeof e)return 0==this.length?g:this[0].style[w(e)]||E(this[0],"").getPropertyValue(e);var n="";for(m in e)e[m]||0===e[m]?n+=o(m)+":"+("number"!=typeof e[m]||F[o(m)]?e[m]:e[m]+"px")+";":this.each(function(){this.style.removeProperty(o(m))});return"string"==typeof e&&(t||0===t?n=o(e)+":"+("number"!=typeof t||F[o(e)]?t:t+"px"):this.each(function(){this.style.removeProperty(o(e))})),this.each(function(){this.style.cssText+=";"+n})},index:function(e){return e?this.indexOf(y(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return 1>this.length?!1:a(e).test(h(this[0]))},addClass:function(e){return this.each(function(t){v=[];var n=h(this);d(this,e,t,n).split(/\s+/g).forEach(function(e){y(this).hasClass(e)||v.push(e)},this),v.length&&h(this,n+(n?" ":"")+v.join(" "))})},removeClass:function(e){return this.each(function(t){return e===g?h(this,""):(v=h(this),d(this,e,t,v).split(/\s+/g).forEach(function(e){v=v.replace(a(e)," ")}),void h(this,v.trim()))})},toggleClass:function(e,t){return this.each(function(n){n=d(this,e,n,h(this)),(t===g?!y(this).hasClass(n):t)?y(this).addClass(n):y(this).removeClass(n)})},scrollTop:function(){return this.length?"scrollTop"in this[0]?this[0].scrollTop:this[0].scrollY:void 0},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),i=A.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(y(e).css("margin-top"))||0,n.left-=parseFloat(y(e).css("margin-left"))||0,i.top+=parseFloat(y(t[0]).css("border-top-width"))||0,i.left+=parseFloat(y(t[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||$.body;e&&!A.test(e.nodeName)&&"static"==y(e).css("position");)e=e.offsetParent;return e})}},["width","height"].forEach(function(e){y.fn[e]=function(t){var n,i=e.replace(/./,function(e){return e[0].toUpperCase()});return t===g?this[0]==window?window["inner"+i]:this[0]==$?$.documentElement["offset"+i]:(n=this.offset())&&n[e]:this.each(function(n){var i=y(this);i.css(e,d(this,t,n,i[e]()))})}}),["after","prepend","before","append"].forEach(function(e,n){var i=n%2;y.fn[e]=function(){var e,r=y.map(arguments,function(e){return t(e)?e:z.fragment(e)}),s=1<this.length;return 1>r.length?this:this.each(function(t,o){e=i?o:o.parentNode,o=0==n?o.nextSibling:1==n?o.firstChild:2==n?o:null,r.forEach(function(t){if(s)t=t.cloneNode(!0);else if(!e)return y(t).remove();p(e.insertBefore(t,o),function(e){null!=e.nodeName&&"SCRIPT"===e.nodeName.toUpperCase()&&(!e.type||"text/javascript"===e.type)&&!e.src&&window.eval.call(window,e.innerHTML)})})})},y.fn[i?e+"To":"insert"+(n?"Before":"After")]=function(t){return y(t)[e](this),this}}),z.Z.prototype=y.fn,z.uniq=b,z.deserializeValue=f,y.zepto=z,y}();window.Zepto=Zepto,"$"in window||(window.$=Zepto),function(e){function t(e){return e._zid||(e._zid=c++)}function n(e,n,r,s){if(n=i(n),n.ns)var o=RegExp("(?:^| )"+n.ns.replace(" "," .* ?")+"(?: |$)");return(u[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!o.test(e.ns)||r&&t(e.fn)!==t(r)||s&&e.sel!=s)})}function i(e){return e=(""+e).split("."),{e:e[0],ns:e.slice(1).sort().join(" ")}}function r(t,n,i){e.isObject(t)?e.each(t,i):t.split(/\s/).forEach(function(e){i(e,n)})}function s(n,s,o,a,l,c){var d=t(n),f=u[d]||(u[d]=[]);r(s,o,function(t,r){var s=i(t);s.fn=r,s.sel=a,s.e in h&&(r=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?s.fn.apply(this,arguments):void 0}),s.del=l&&l(r,t);var o=s.del||r;s.proxy=function(e){var t=o.apply(n,[e].concat(e.data));return!1===t&&(e.preventDefault(),e.stopPropagation()),t},s.i=f.length,f.push(s),n.addEventListener(h[s.e]||s.e,s.proxy,s.del&&("focus"==s.e||"blur"==s.e)||!!c)})}function o(e,i,s,o,a){var l=t(e);r(i||"",s,function(t,i){n(e,t,i,o).forEach(function(t){delete u[l][t.i],e.removeEventListener(h[t.e]||t.e,t.proxy,t.del&&("focus"==t.e||"blur"==t.e)||!!a)})})}function a(t){var n,i={originalEvent:t};for(n in t)!g.test(n)&&void 0!==t[n]&&(i[n]=t[n]);return e.each(m,function(e,n){i[e]=function(){return this[n]=f,t[e].apply(t,arguments)},i[n]=p}),i}function l(e){if(!("defaultPrevented"in e)){e.defaultPrevented=!1;var t=e.preventDefault;e.preventDefault=function(){this.defaultPrevented=!0,t.call(this)}}}var u={},c=1,d={},h={mouseenter:"mouseover",mouseleave:"mouseout"};d.click=d.mousedown=d.mouseup=d.mousemove="MouseEvents",e.event={add:s,remove:o},e.proxy=function(n,i){if(e.isFunction(n)){var r=function(){return n.apply(i,arguments)};return r._zid=t(n),r}if("string"==typeof i)return e.proxy(n[i],n);throw new TypeError("expected function")},e.fn.bind=function(e,t){return this.each(function(){s(this,e,t)})},e.fn.unbind=function(e,t){return this.each(function(){o(this,e,t)})},e.fn.one=function(e,t){return this.each(function(n,i){s(this,e,t,null,function(e,t){return function(){var n=e.apply(i,arguments);return o(i,t,e),n}})})};var f=function(){return!0},p=function(){return!1},g=/^([A-Z]|layer[XY]$)/,m={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(t,n,i){return this.each(function(r,o){s(o,n,i,t,function(n){return function(i){var r,s=e(i.target).closest(t,o).get(0);return s?(r=e.extend(a(i),{currentTarget:s,liveFired:o}),n.apply(s,[r].concat([].slice.call(arguments,1)))):void 0}})})},e.fn.undelegate=function(e,t,n){return this.each(function(){o(this,t,n,e)})},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,i){return!n||e.isFunction(n)?this.bind(t,n||i):this.delegate(n,t,i)},e.fn.off=function(t,n,i){return!n||e.isFunction(n)?this.unbind(t,n||i):this.undelegate(n,t,i)},e.fn.trigger=function(t,n){return("string"==typeof t||e.isPlainObject(t))&&(t=e.Event(t)),l(t),t.data=n,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(t)})},e.fn.triggerHandler=function(t,i){var r,s;return this.each(function(o,l){r=a("string"==typeof t?e.Event(t):t),r.data=i,r.target=l,e.each(n(l,t.type||t),function(e,t){return s=t.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),s},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}}),["focus","blur"].forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.each(function(){try{this[t]()}catch(e){}}),this}}),e.Event=function(e,t){"string"!=typeof e&&(t=e,e=t.type);var n=document.createEvent(d[e]||"Events"),i=!0;if(t)for(var r in t)"bubbles"==r?i=!!t[r]:n[r]=t[r];return n.initEvent(e,i,!0,null,null,null,null,null,null,null,null,null,null,null,null),n.isDefaultPrevented=function(){return this.defaultPrevented},n}}(Zepto),function(e){function t(t,i){var l=t[a],l=l&&r[l];if(void 0===i)return l||n(t);if(l){if(i in l)return l[i];var u=o(i);if(u in l)return l[u]}return s.call(e(t),i)}function n(t,n,s){var l=t[a]||(t[a]=++e.uuid);return t=r[l]||(r[l]=i(t)),void 0!==n&&(t[o(n)]=s),t}function i(t){var n={};return e.each(t.attributes,function(t,i){0==i.name.indexOf("data-")&&(n[o(i.name.replace("data-",""))]=e.zepto.deserializeValue(i.value))}),n}var r={},s=e.fn.data,o=e.camelCase,a=e.expando="Zepto"+ +new Date;e.fn.data=function(i,r){return void 0===r?e.isPlainObject(i)?this.each(function(t,r){e.each(i,function(e,t){n(r,e,t)})}):0==this.length?void 0:t(this[0],i):this.each(function(){n(this,i,r)})},e.fn.removeData=function(t){return"string"==typeof t&&(t=t.split(/\s+/)),this.each(function(){var n=this[a],i=n&&r[n];i&&e.each(t,function(){delete i[o(this)]})})}}(Zepto),!function(e){var t=function(){this.defined="undefined"!=typeof localStorage};t.prototype={constructor:t,get:function(e,t){return localStorage.getItem(e)?localStorage.getItem(e):"undefined"!=typeof t?t:null},has:function(e){return localStorage.getItem(e)?!0:!1},set:function(e,t,n){return"string"==typeof t&&(""===t?this.destroy(e):localStorage.setItem(e,t)),"function"==typeof n?n():!0},destroy:function(e,t){return localStorage.removeItem(e),"function"==typeof t?t():!0},clean:function(e){for(var t=localStorage.length-1;t>=0;t--)"undefined"==typeof Array.indexOf&&-1!==localStorage.key(t).indexOf("garlic:")&&localStorage.removeItem(localStorage.key(t));return"function"==typeof e?e():!0},clear:function(e){return localStorage.clear(),"function"==typeof e?e():!0}};var n=function(e,t,n){this.init("garlic",e,t,n)};n.prototype={constructor:n,init:function(t,n,i,r){this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.storage=i,this.path=this.options.getPath(this.$element)||this.getPath(),this.parentForm=this.$element.closest("form"),this.$element.addClass("garlic-auto-save"),this.expiresFlag=this.options.expires?(this.$element.data("expires")?this.path:this.getPath(this.parentForm))+"_flag":!1,this.$element.on(this.options.events.join("."+this.type+" "),!1,e.proxy(this.persist,this)),this.options.destroy&&e(this.parentForm).on("submit reset",!1,e.proxy(this.destroy,this)),this.retrieve()},getOptions:function(t){return e.extend({},e.fn[this.type].defaults,t,this.$element.data())},persist:function(){this.val!==this.getVal()&&(this.val=this.getVal(),this.options.expires&&this.storage.set(this.expiresFlag,((new Date).getTime()+1e3*this.options.expires).toString()),this.storage.set(this.path,this.getVal()),this.options.onPersist(this.$element,this.getVal()))},getVal:function(){return this.$element.is("input[type=checkbox]")?this.$element.prop("checked")?"checked":"unchecked":this.$element.val()},retrieve:function(){if(this.storage.has(this.path)){if(this.options.expires){var e=(new Date).getTime();if(this.storage.get(this.expiresFlag)<e.toString())return void this.storage.destroy(this.path);this.$element.attr("expires-in",Math.floor((parseInt(this.storage.get(this.expiresFlag))-e)/1e3))}if(e=this.storage.get(this.path),this.options.conflictManager.enabled&&this.detectConflict())return this.conflictManager();if(this.$element.is("input[type=radio], input[type=checkbox]")){if("checked"===e||this.$element.val()===e)return this.$element.attr("checked",!0);"unchecked"===e&&this.$element.attr("checked",!1)}else this.$element.val(e),this.$element.trigger("input"),this.options.onRetrieve(this.$element,e)}},detectConflict:function(){var t=this;if(this.$element.is("input[type=checkbox], input[type=radio]"))return!1;if(this.$element.val()&&this.storage.get(this.path)!==this.$element.val()){if(this.$element.is("select")){var n=!1;return this.$element.find("option").each(function(){0!==e(this).index()&&e(this).attr("selected")&&e(this).val()!==t.storage.get(this.path)&&(n=!0)}),n}return!0}return!1},conflictManager:function(){return"function"!=typeof this.options.conflictManager.onConflictDetected||this.options.conflictManager.onConflictDetected(this.$element,this.storage.get(this.path))?(this.options.conflictManager.garlicPriority?(this.$element.data("swap-data",this.$element.val()),this.$element.data("swap-state","garlic"),this.$element.val(this.storage.get(this.path))):(this.$element.data("swap-data",this.storage.get(this.path)),this.$element.data("swap-state","default")),this.swapHandler(),this.$element.addClass("garlic-conflict-detected"),void this.$element.closest("input[type=submit]").attr("disabled",!0)):!1},swapHandler:function(){var t=e(this.options.conflictManager.template);this.$element.after(t.text(this.options.conflictManager.message)),t.on("click",!1,e.proxy(this.swap,this))},swap:function(){var t=this.$element.data("swap-data");this.$element.data("swap-state","garlic"===this.$element.data("swap-state")?"default":"garlic"),this.$element.data("swap-data",this.$element.val()),e(this.$element).val(t)},destroy:function(){this.storage.destroy(this.path)},remove:function(){this.remove(),this.$element.is("input[type=radio], input[type=checkbox]")?e(this.$element).prop("checked",!1):this.$element.val("")},getPath:function(t){if("undefined"==typeof t&&(t=this.$element),this.options.getPath(t))return this.options.getPath(t);if(1!=t.length)return!1;for(var n="",i=t.is("input[type=checkbox]"),r=t;r.length;){t=r[0];var s=t.nodeName;if(!s)break;var s=s.toLowerCase(),r=r.parent(),o=r.children(s);if((e(t).is("form, input, select, textarea")||i)&&(s+=e(t).attr("name")?"."+e(t).attr("name"):"",1<o.length&&!e(t).is("input[type=radio]")&&(s+=":eq("+o.index(t)+")"),n=s+(n?">"+n:""),"form"==t.nodeName.toLowerCase()))break}return"garlic:"+document.domain+(this.options.domain?"*":window.location.pathname)+">"+n},getStorage:function(){return this.storage}},e.fn.garlic=function(i,r){function s(t){var r=e(t),s=r.data("garlic"),l=e.extend({},o,r.data());return"undefined"!=typeof l.storage&&!l.storage||"password"===e(t).attr("type")||(s||r.data("garlic",s=new n(t,a,l)),"string"!=typeof i||"function"!=typeof s[i])?void 0:s[i]()}var o=e.extend(!0,{},e.fn.garlic.defaults,i,this.data()),a=new t,l=!1;return a.defined?(this.each(function(){e(this).is("form")?e(this).find(o.inputs).each(function(){e(this).is(o.excluded)||(l=s(e(this)))}):e(this).is(o.inputs)&&!e(this).is(o.excluded)&&(l=s(e(this)))}),"function"==typeof r?r():l):!1},e.fn.garlic.Constructor=n,e.fn.garlic.defaults={destroy:!0,inputs:"input, textarea, select",excluded:'input[type="file"], input[type="hidden"]',events:"DOMAttrModified textInput input change click keypress paste focus".split(" "),domain:!1,expires:!1,conflictManager:{enabled:!1,garlicPriority:!0,template:'<span class="garlic-swap"></span>',message:"This is your saved data. Click here to see default one",onConflictDetected:function(){return!0}},getPath:function(){},onRetrieve:function(){},onPersist:function(){}},e(window).on("load",function(){e('[data-persist="garlic"]').each(function(){e(this).garlic()})})}(window.jQuery||window.Zepto);