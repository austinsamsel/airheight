jQuery.css&&(module("css",{teardown:moduleTeardown}),test("css(String|Hash)",function(){expect(41),equal(jQuery("#qunit-fixture").css("display"),"block",'Check for css property "display"');var e,s,t,i,o,n,a,d,r;e=jQuery("#nothiddendivchild").css({width:"20%",height:"20%"}),notEqual(e.css("width"),"20px","Retrieving a width percentage on the child of a hidden div returns percentage"),notEqual(e.css("height"),"20px","Retrieving a height percentage on the child of a hidden div returns percentage"),s=jQuery("<div>"),equal(s.css("width"),"0px","Width on disconnected node."),equal(s.css("height"),"0px","Height on disconnected node."),s.css({width:4,height:4}),equal(s.css("width"),"4px","Width on disconnected node."),equal(s.css("height"),"4px","Height on disconnected node."),t=jQuery("<div style='display:none;'><input type='text' style='height:20px;'/><textarea style='height:20px;'/><div style='height:20px;'></div></div>").appendTo("body"),equal(t.find("input").css("height"),"20px","Height on hidden input."),equal(t.find("textarea").css("height"),"20px","Height on hidden textarea."),equal(t.find("div").css("height"),"20px","Height on hidden textarea."),t.remove(),jQuery("#nothiddendiv").css({width:1,height:1}),i=parseFloat(jQuery("#nothiddendiv").css("width")),o=parseFloat(jQuery("#nothiddendiv").css("height")),jQuery("#nothiddendiv").css({overflow:"hidden",width:-1,height:-1}),equal(parseFloat(jQuery("#nothiddendiv").css("width")),0,"Test negative width set to 0"),equal(parseFloat(jQuery("#nothiddendiv").css("height")),0,"Test negative height set to 0"),equal(jQuery("<div style='display: none;'>").css("display"),"none","Styles on disconnected nodes"),jQuery("#floatTest").css({"float":"right"}),equal(jQuery("#floatTest").css("float"),"right",'Modified CSS float using "float": Assert float is right'),jQuery("#floatTest").css({"font-size":"30px"}),equal(jQuery("#floatTest").css("font-size"),"30px","Modified CSS font-size: Assert font-size is 30px"),jQuery.each("0,0.25,0.5,0.75,1".split(","),function(e,s){jQuery("#foo").css({opacity:s}),equal(jQuery("#foo").css("opacity"),parseFloat(s),"Assert opacity is "+parseFloat(s)+" as a String"),jQuery("#foo").css({opacity:parseFloat(s)}),equal(jQuery("#foo").css("opacity"),parseFloat(s),"Assert opacity is "+parseFloat(s)+" as a Number")}),jQuery("#foo").css({opacity:""}),equal(jQuery("#foo").css("opacity"),"1","Assert opacity is 1 when set to an empty String"),equal(jQuery("#empty").css("opacity"),"0","Assert opacity is accessible via filter property set in stylesheet in IE"),jQuery("#empty").css({opacity:"1"}),equal(jQuery("#empty").css("opacity"),"1","Assert opacity is taken from style attribute when set vs stylesheet in IE with filters"),jQuery.support.opacity?ok(!0,"Requires the same number of tests"):ok(~jQuery("#empty")[0].currentStyle.filter.indexOf("gradient"),"Assert setting opacity doesn't overwrite other filters of the stylesheet in IE"),s=jQuery("#nothiddendiv"),n=jQuery("#nothiddendivchild"),equal(parseInt(s.css("fontSize"),10),16,"Verify fontSize px set."),equal(parseInt(s.css("font-size"),10),16,"Verify fontSize px set."),equal(parseInt(n.css("fontSize"),10),16,"Verify fontSize px set."),equal(parseInt(n.css("font-size"),10),16,"Verify fontSize px set."),n.css("height","100%"),equal(n[0].style.height,"100%","Make sure the height is being set correctly."),n.attr("class","em"),equal(parseInt(n.css("fontSize"),10),32,"Verify fontSize em set."),n.attr("class","prct"),a=parseInt(n.css("fontSize"),10),d=0,(16===a||24===a)&&(d=a),equal(a,d,"Verify fontSize % set."),equal(typeof n.css("width"),"string","Make sure that a string width is returned from css('width')."),r=n[0].style.height,n.css("height",parseFloat("zoo")),equal(n[0].style.height,r,"Make sure height isn't changed on NaN."),n.css("height",null),equal(n[0].style.height,r,"Make sure height isn't changed on null."),r=n[0].style.fontSize,n.css("font-size",parseFloat("zoo")),equal(n[0].style.fontSize,r,"Make sure font-size isn't changed on NaN."),n.css("font-size",null),equal(n[0].style.fontSize,r,"Make sure font-size isn't changed on null.")}),test("css() explicit and relative values",function(){expect(30);var e=jQuery("#nothiddendiv");e.css({width:1,height:1,paddingLeft:"1px",opacity:1}),equal(e.css("width"),"1px","Initial css set or width/height works (hash)"),equal(e.css("paddingLeft"),"1px","Initial css set of paddingLeft works (hash)"),equal(e.css("opacity"),"1","Initial css set of opacity works (hash)"),e.css({width:"+=9"}),equal(e.css("width"),"10px","'+=9' on width (hash)"),e.css({width:"-=9"}),equal(e.css("width"),"1px","'-=9' on width (hash)"),e.css({width:"+=9px"}),equal(e.css("width"),"10px","'+=9px' on width (hash)"),e.css({width:"-=9px"}),equal(e.css("width"),"1px","'-=9px' on width (hash)"),e.css("width","+=9"),equal(e.css("width"),"10px","'+=9' on width (params)"),e.css("width","-=9"),equal(e.css("width"),"1px","'-=9' on width (params)"),e.css("width","+=9px"),equal(e.css("width"),"10px","'+=9px' on width (params)"),e.css("width","-=9px"),equal(e.css("width"),"1px","'-=9px' on width (params)"),e.css("width","-=-9px"),equal(e.css("width"),"10px","'-=-9px' on width (params)"),e.css("width","+=-9px"),equal(e.css("width"),"1px","'+=-9px' on width (params)"),e.css({paddingLeft:"+=4"}),equal(e.css("paddingLeft"),"5px","'+=4' on paddingLeft (hash)"),e.css({paddingLeft:"-=4"}),equal(e.css("paddingLeft"),"1px","'-=4' on paddingLeft (hash)"),e.css({paddingLeft:"+=4px"}),equal(e.css("paddingLeft"),"5px","'+=4px' on paddingLeft (hash)"),e.css({paddingLeft:"-=4px"}),equal(e.css("paddingLeft"),"1px","'-=4px' on paddingLeft (hash)"),e.css({"padding-left":"+=4"}),equal(e.css("paddingLeft"),"5px","'+=4' on padding-left (hash)"),e.css({"padding-left":"-=4"}),equal(e.css("paddingLeft"),"1px","'-=4' on padding-left (hash)"),e.css({"padding-left":"+=4px"}),equal(e.css("paddingLeft"),"5px","'+=4px' on padding-left (hash)"),e.css({"padding-left":"-=4px"}),equal(e.css("paddingLeft"),"1px","'-=4px' on padding-left (hash)"),e.css("paddingLeft","+=4"),equal(e.css("paddingLeft"),"5px","'+=4' on paddingLeft (params)"),e.css("paddingLeft","-=4"),equal(e.css("paddingLeft"),"1px","'-=4' on paddingLeft (params)"),e.css("padding-left","+=4px"),equal(e.css("paddingLeft"),"5px","'+=4px' on padding-left (params)"),e.css("padding-left","-=4px"),equal(e.css("paddingLeft"),"1px","'-=4px' on padding-left (params)"),e.css({opacity:"-=0.5"}),equal(e.css("opacity"),"0.5","'-=0.5' on opacity (hash)"),e.css({opacity:"+=0.5"}),equal(e.css("opacity"),"1","'+=0.5' on opacity (hash)"),e.css("opacity","-=0.5"),equal(e.css("opacity"),"0.5","'-=0.5' on opacity (params)"),e.css("opacity","+=0.5"),equal(e.css("opacity"),"1","'+=0.5' on opacity (params)"),e.css("order",2),equal(e.css("order"),"2","2 on order")}),test("css(String, Object)",function(){expect(19);var e,s,t,i,o;jQuery("#nothiddendiv").css("top","-1em"),ok(jQuery("#nothiddendiv").css("top"),-16,"Check negative number in EMs."),jQuery("#floatTest").css("float","left"),equal(jQuery("#floatTest").css("float"),"left",'Modified CSS float using "float": Assert float is left'),jQuery("#floatTest").css("font-size","20px"),equal(jQuery("#floatTest").css("font-size"),"20px","Modified CSS font-size: Assert font-size is 20px"),jQuery.each("0,0.25,0.5,0.75,1".split(","),function(e,s){jQuery("#foo").css("opacity",s),equal(jQuery("#foo").css("opacity"),parseFloat(s),"Assert opacity is "+parseFloat(s)+" as a String"),jQuery("#foo").css("opacity",parseFloat(s)),equal(jQuery("#foo").css("opacity"),parseFloat(s),"Assert opacity is "+parseFloat(s)+" as a Number")}),jQuery("#foo").css("opacity",""),equal(jQuery("#foo").css("opacity"),"1","Assert opacity is 1 when set to an empty String"),e=jQuery("#nonnodes").contents(),e.css("overflow","visible"),equal(e.css("overflow"),"visible","Check node,textnode,comment css works"),jQuery("#t2037")[0].innerHTML=jQuery("#t2037")[0].innerHTML,equal(jQuery("#t2037 .hidden").css("display"),"none","Make sure browser thinks it is hidden"),s=jQuery("#nothiddendiv"),t=s.css("display"),i=s.css("display",void 0),equal(i,s,"Make sure setting undefined returns the original set."),equal(s.css("display"),t,"Make sure that the display wasn't changed."),o=!0;try{jQuery("#foo").css("backgroundColor","rgba(0, 0, 0, 0.1)")}catch(n){o=!1}ok(o,"Setting RGBA values does not throw Error")}),test("css(Array)",function(){expect(2);var e={overflow:"visible",width:"16px"},s={width:"16px"},t=jQuery("<div></div>").appendTo("#qunit-fixture");deepEqual(t.css(e).css(["overflow","width"]),e,"Getting multiple element array"),deepEqual(t.css(s).css(["width"]),s,"Getting single element array")}),jQuery.support.opacity||(test("css(String, Object) for MSIE",function(){expect(5),jQuery("#foo").css("filter","progid:DXImageTransform.Microsoft.Chroma(color='red');"),equal(jQuery("#foo").css("opacity"),"1","Assert opacity is 1 when a different filter is set in IE, #1438");var e="progid:DXImageTransform.Microsoft.Alpha(opacity=30) progid:DXImageTransform.Microsoft.Blur(pixelradius=5)",s="progid:DXImageTransform.Microsoft.alpha(opacity=100) progid:DXImageTransform.Microsoft.Blur(pixelradius=5)",t="progid:DXImageTransform.Microsoft.Blur(pixelradius=5)";jQuery("#foo").css("filter",e),equal(jQuery("#foo").css("filter"),e,"css('filter', val) works"),jQuery("#foo").css("opacity",1),equal(jQuery("#foo").css("filter"),s,"Setting opacity in IE doesn't duplicate opacity filter"),equal(jQuery("#foo").css("opacity"),1,"Setting opacity in IE with other filters works"),jQuery("#foo").css("filter",t).css("opacity",1),ok(-1!==jQuery("#foo").css("filter").indexOf(t),"Setting opacity in IE doesn't clobber other filters")}),test("Setting opacity to 1 properly removes filter: style (#6652)",function(){function e(e){var t=s.exec(e[0].style.cssText);return t?!0:!1}var s=/filter:[^;]*/i,t=jQuery("#t6652").css("opacity",1),i=t.find("div").css("opacity",1);expect(2),ok(!e(t),"Removed filter attribute on element without filter in stylesheet"),ok(e(i),"Filter attribute remains on element that had filter in stylesheet")})),test("css(String, Function)",function(){expect(3);var e,s=["10px","20px","30px"];jQuery("<div id='cssFunctionTest'><div class='cssFunction'></div><div class='cssFunction'></div><div class='cssFunction'></div></div>").appendTo("body"),e=0,jQuery("#cssFunctionTest div").css("font-size",function(){var t=s[e];return e++,t}),e=0,jQuery("#cssFunctionTest div").each(function(){var t=jQuery(this).css("font-size"),i=s[e];equal(t,i,"Div #"+e+" should be "+i),e++}),jQuery("#cssFunctionTest").remove()}),test("css(String, Function) with incoming value",function(){expect(3);var e,s=["10px","20px","30px"];jQuery("<div id='cssFunctionTest'><div class='cssFunction'></div><div class='cssFunction'></div><div class='cssFunction'></div></div>").appendTo("body"),e=0,jQuery("#cssFunctionTest div").css("font-size",function(){var t=s[e];return e++,t}),e=0,jQuery("#cssFunctionTest div").css("font-size",function(t,i){var o=s[e];return equal(i,o,"Div #"+e+" should be "+o),e++,i}),jQuery("#cssFunctionTest").remove()}),test("css(Object) where values are Functions",function(){expect(3);var e,s=["10px","20px","30px"];jQuery("<div id='cssFunctionTest'><div class='cssFunction'></div><div class='cssFunction'></div><div class='cssFunction'></div></div>").appendTo("body"),e=0,jQuery("#cssFunctionTest div").css({fontSize:function(){var t=s[e];return e++,t}}),e=0,jQuery("#cssFunctionTest div").each(function(){var t=jQuery(this).css("font-size"),i=s[e];equal(t,i,"Div #"+e+" should be "+i),e++}),jQuery("#cssFunctionTest").remove()}),test("css(Object) where values are Functions with incoming values",function(){expect(3);var e,s=["10px","20px","30px"];jQuery("<div id='cssFunctionTest'><div class='cssFunction'></div><div class='cssFunction'></div><div class='cssFunction'></div></div>").appendTo("body"),e=0,jQuery("#cssFunctionTest div").css({fontSize:function(){var t=s[e];return e++,t}}),e=0,jQuery("#cssFunctionTest div").css({"font-size":function(t,i){var o=s[e];return equal(i,o,"Div #"+e+" should be "+o),e++,i}}),jQuery("#cssFunctionTest").remove()}),test("show(); hide()",function(){expect(22);var e,s,t,i,o;e=jQuery("div.hidden"),e.hide(),equal(e.css("display"),"none","Non-detached div hidden"),e.show(),equal(e.css("display"),"block","Pre-hidden div shown"),s=jQuery("<div>").hide(),equal(s.css("display"),"none","Detached div hidden"),s.appendTo("#qunit-fixture").show(),equal(s.css("display"),"block","Pre-hidden div shown"),QUnit.reset(),e=jQuery("div.hidden"),equal(jQuery.css(e[0],"display"),"none","hiddendiv is display: none"),e.css("display","block"),equal(jQuery.css(e[0],"display"),"block","hiddendiv is display: block"),e.show(),equal(jQuery.css(e[0],"display"),"block","hiddendiv is display: block"),e.css("display",""),t=!0,s=jQuery("#qunit-fixture div"),s.show().each(function(){"none"===this.style.display&&(t=!1)}),ok(t,"Show"),jQuery("#qunit-fixture").append("<div id='show-tests'><div><p><a href='#'></a></p><code></code><pre></pre><span></span></div><table><thead><tr><th></th></tr></thead><tbody><tr><td></td></tr></tbody></table><ul><li></li></ul></div><table id='test-table'></table>"),i="table"!==jQuery("#test-table").show().css("display"),jQuery("#test-table").remove(),o={div:"block",p:"block",a:"inline",code:"inline",pre:"block",span:"inline",table:i?"block":"table",thead:i?"block":"table-header-group",tbody:i?"block":"table-row-group",tr:i?"block":"table-row",th:i?"block":"table-cell",td:i?"block":"table-cell",ul:"block",li:i?"block":"list-item"},jQuery.each(o,function(e,s){var t=jQuery(e,"#show-tests").show();equal(t.css("display"),s,"Show using correct display type for "+e)}),jQuery("<div>test</div> text <span>test</span>").show().remove(),jQuery("<div>test</div> text <span>test</span>").hide().remove()}),test("show() resolves correct default display #8099",function(){expect(7);var e=jQuery("<tt/>").appendTo("body"),s=jQuery("<dfn/>",{html:"foo"}).appendTo("body");equal(e.css("display"),"none","default display override for all tt"),equal(e.show().css("display"),"inline","Correctly resolves display:inline"),equal(jQuery("#foo").hide().show().css("display"),"block","Correctly resolves display:block after hide/show"),equal(e.hide().css("display"),"none","default display override for all tt"),equal(e.show().css("display"),"inline","Correctly resolves display:inline"),equal(s.css("display"),"none","default display override for all dfn"),equal(s.show().css("display"),"inline","Correctly resolves display:inline"),e.remove(),s.remove()}),test("show() resolves correct default display for detached nodes",function(){expect(13);var e,s,t,i;e=jQuery("<div class='hidden'>"),e.show().appendTo("#qunit-fixture"),equal(e.css("display"),"block","Make sure a detached, pre-hidden( through stylesheets ) div is visible."),e=jQuery("<div style='display: none'>"),e.show().appendTo("#qunit-fixture"),equal(e.css("display"),"block","Make sure a detached, pre-hidden( through inline style ) div is visible."),s=jQuery("<span class='hidden'/>"),s.show().appendTo("#qunit-fixture"),equal(s.css("display"),"inline","Make sure a detached, pre-hidden( through stylesheets ) span has default display."),s=jQuery("<span style='display: inline'/>"),s.show().appendTo("#qunit-fixture"),equal(s.css("display"),"inline","Make sure a detached, pre-hidden( through inline style ) span has default display."),e=jQuery("<div><div class='hidden'></div></div>").children("div"),e.show().appendTo("#qunit-fixture"),equal(e.css("display"),"block","Make sure a detached, pre-hidden( through stylesheets ) div inside another visible div is visible."),e=jQuery("<div><div style='display: none'></div></div>").children("div"),e.show().appendTo("#qunit-fixture"),equal(e.css("display"),"block","Make sure a detached, pre-hidden( through inline style ) div inside another visible div is visible."),e=jQuery("div.hidden"),e.detach().show(),equal(e.css("display"),"block","Make sure a detached( through detach() ), pre-hidden div is visible."),e.remove(),s=jQuery("<span>"),s.appendTo("#qunit-fixture").detach().show().appendTo("#qunit-fixture"),equal(s.css("display"),"inline","Make sure a detached( through detach() ), pre-hidden span has default display."),s.remove(),e=jQuery("<div>"),e.show().appendTo("#qunit-fixture"),ok(!!e.get(0).style.display,"Make sure not hidden div has a inline style."),e.remove(),e=jQuery(document.createElement("div")),e.show().appendTo("#qunit-fixture"),equal(e.css("display"),"block","Make sure a pre-created element has default display."),e.remove(),e=jQuery("<div style='display: inline'/>"),e.show().appendTo("#qunit-fixture"),equal(e.css("display"),"inline","Make sure that element has same display when it was created."),e.remove(),t=jQuery("<tr/>"),jQuery("#table").append(t),i=t.css("display"),t.detach().hide().show(),equal(t[0].style.display,i,"For detached tr elements, display should always be like for attached trs"),t.remove(),s=jQuery("<span/>").hide().show(),equal(s[0].style.display,"inline","For detached span elements, display should always be inline"),s.remove()}),test("show() resolves correct default display #10227",function(){expect(2);var e=jQuery("body");e.append("<p id='ddisplay'>a<style>body{display:none}</style></p>"),equal(e.css("display"),"none","Initial display: none"),e.show(),equal(e.css("display"),"block","Correct display: block"),jQuery("#ddisplay").remove(),QUnit.expectJqData(e[0],"olddisplay")}),test("show() resolves correct default display when iframe display:none #12904",function(){expect(2);var e=jQuery("<p id='ddisplay'>a<style>p{display:none}iframe{display:none !important}</style></p>").appendTo("body");equal(e.css("display"),"none","Initial display: none"),e.show(),equal(e.css("display"),"block","Correct display: block"),e.remove()}),test("toggle()",function(){expect(9);var e,s,t=jQuery("#foo");ok(t.is(":visible"),"is visible"),t.toggle(),ok(t.is(":hidden"),"is hidden"),t.toggle(),ok(t.is(":visible"),"is visible again"),t.toggle(!0),ok(t.is(":visible"),"is visible"),t.toggle(!1),ok(t.is(":hidden"),"is hidden"),t.toggle(!0),ok(t.is(":visible"),"is visible again"),e=jQuery("<div style='display:none'><div></div></div>").appendTo("#qunit-fixture"),t=e.find("div"),strictEqual(t.toggle().css("display"),"none","is hidden"),strictEqual(t.toggle().css("display"),"block","is visible"),s=jQuery.fn.hide,jQuery.fn.hide=function(){return ok(!0,name+" method called on toggle"),s.apply(this,arguments)},t.toggle("show"===name),jQuery.fn.hide=s}),test("hide hidden elements (bug #7141)",function(){expect(3),QUnit.reset();var e=jQuery("<div style='display:none'></div>").appendTo("#qunit-fixture");equal(e.css("display"),"none","Element is hidden by default"),e.hide(),ok(!jQuery._data(e,"olddisplay"),"olddisplay is undefined after hiding an already-hidden element"),e.show(),equal(e.css("display"),"block","Show a double-hidden element"),e.remove()}),test("jQuery.css(elem, 'height') doesn't clear radio buttons (bug #1095)",function(){expect(4);var e=jQuery("#checkedtest");jQuery.css(e[0],"height"),ok(jQuery("input[type='radio']",e).first().attr("checked"),"Check first radio still checked."),ok(!jQuery("input[type='radio']",e).last().attr("checked"),"Check last radio still NOT checked."),ok(jQuery("input[type='checkbox']",e).first().attr("checked"),"Check first checkbox still checked."),ok(!jQuery("input[type='checkbox']",e).last().attr("checked"),"Check last checkbox still NOT checked.")}),test("internal ref to elem.runtimeStyle (bug #7608)",function(){expect(1);var e=!0;try{jQuery("#foo").css({width:"0%"}).css("width")}catch(s){e=!1}ok(e,"elem.runtimeStyle does not throw exception")}),test("marginRight computed style (bug #3333)",function(){expect(1);var e=jQuery("#foo");e.css({width:"1px",marginRight:0}),equal(e.css("marginRight"),"0px","marginRight correctly calculated with a width and display block")}),test("box model properties incorrectly returning % instead of px, see #10639 and #12088",function(){expect(2);var e=jQuery("<div/>").width(400).appendTo("#qunit-fixture"),s=jQuery("<div/>").css({width:"50%",marginRight:"50%"}).appendTo(e),t=jQuery("<div/>").css({width:"50%",minWidth:"300px",marginLeft:"25%"}).appendTo(e);equal(s.css("marginRight"),"200px","css('marginRight') returning % instead of px, see #10639"),equal(t.css("marginLeft"),"100px","css('marginLeft') returning incorrect pixel value, see #12088")}),test("jQuery.cssProps behavior, (bug #8402)",function(){expect(2);var e=jQuery("<div>").appendTo(document.body).css({position:"absolute",top:0,left:10});jQuery.cssProps.top="left",equal(e.css("top"),"10px","the fixed property is used when accessing the computed style"),e.css("top","100px"),equal(e[0].style.left,"100px","the fixed property is used when setting the style"),jQuery.cssProps.top=void 0}),test("widows & orphans #8936",function(){var e=jQuery("<p>").appendTo("#qunit-fixture");"widows"in e[0].style?(expect(4),e.css({widows:0,orphans:0}),equal(e.css("widows")||jQuery.style(e[0],"widows"),0,"widows correctly start with value 0"),equal(e.css("orphans")||jQuery.style(e[0],"orphans"),0,"orphans correctly start with value 0"),e.css({widows:3,orphans:3}),equal(e.css("widows")||jQuery.style(e[0],"widows"),3,"widows correctly set to 3"),equal(e.css("orphans")||jQuery.style(e[0],"orphans"),3,"orphans correctly set to 3")):(expect(1),ok(!0,"jQuery does not attempt to test for style props that definitely don't exist in older versions of IE")),e.remove()}),test("can't get css for disconnected in IE<9, see #10254 and #8388",function(){expect(2);var e,s;e=jQuery("<span/>").css("background-image","url(data/1x1.jpg)"),notEqual(e.css("background-image"),null,"can't get background-image in IE<9, see #10254"),s=jQuery("<div/>").css("top",10),equal(s.css("top"),"10px","can't get top in IE<9, see #8388")}),test("can't get background-position in IE<9, see #10796",function(){var e=jQuery("<div/>").appendTo("#qunit-fixture"),s=["0 0","12px 12px","13px 12em","12em 13px","12em center","+12em center","12.2em center","center center"],t=s.length,i=0;for(expect(t);t>i;i++)e.css("background-position",s[i]),ok(e.css("background-position"),"can't get background-position in IE<9, see #10796")}),test("percentage properties for bottom and right in IE<9 should not be incorrectly transformed to pixels, see #11311",function(){expect(1);var e=jQuery("<div style='position: absolute; width: 1px; height: 20px; bottom:50%;'></div>").appendTo("#qunit-fixture");ok(window.getComputedStyle||"50%"===e.css("bottom"),"position properties get incorrectly transformed in IE<8, see #11311")}),jQuery.fn.offset&&test("percentage properties for left and top should be transformed to pixels, see #9505",function(){expect(2);var e=jQuery("<div style='position:relative;width:200px;height:200px;margin:0;padding:0;border-width:0'></div>").appendTo("#qunit-fixture"),s=jQuery("<div style='position: absolute; width: 20px; height: 20px; top:50%; left:50%'></div>").appendTo(e);equal(s.css("top"),"100px","position properties not transformed to pixels, see #9505"),equal(s.css("left"),"100px","position properties not transformed to pixels, see #9505")}),test("Do not append px (#9548, #12990)",function(){expect(2);var e=jQuery("<div>").appendTo("#qunit-fixture");e.css("fill-opacity",1),equal(e.css("fill-opacity"),1,"Do not append px to 'fill-opacity'"),e.css("column-count",1),e.css("column-count")?equal(e.css("column-count"),1,"Do not append px to 'column-count'"):ok(!0,"No support for column-count CSS property")}),test("css('width') and css('height') should respect box-sizing, see #11004",function(){expect(4);var e=jQuery("<div style='width:300px;height:300px;margin:2px;padding:2px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;'>test</div>"),s=e.clone().appendTo("#qunit-fixture");equal(s.css("width"),s.css("width",s.css("width")).css("width"),"css('width') is not respecting box-sizing, see #11004"),equal(e.css("width"),e.css("width",e.css("width")).css("width"),"css('width') is not respecting box-sizing for disconnected element, see #11004"),equal(s.css("height"),s.css("height",s.css("height")).css("height"),"css('height') is not respecting box-sizing, see #11004"),equal(e.css("height"),e.css("height",e.css("height")).css("height"),"css('height') is not respecting box-sizing for disconnected element, see #11004")}),test("certain css values of 'normal' should be convertable to a number, see #8627",function(){expect(2);var e=jQuery("<div style='letter-spacing:normal;font-weight:normal;'>test</div>").appendTo("#qunit-fixture");ok(jQuery.isNumeric(parseFloat(e.css("letterSpacing"))),"css('letterSpacing') not convertable to number, see #8627"),ok(jQuery.isNumeric(parseFloat(e.css("fontWeight"))),"css('fontWeight') not convertable to number, see #8627")}),9===document.documentMode&&test(".css('filter') returns a string in IE9, see #12537",1,function(){equal(jQuery("<div style='-ms-filter:\"progid:DXImageTransform.Microsoft.gradient(startColorstr=#FFFFFF, endColorstr=#ECECEC)\";'></div>").css("filter"),"progid:DXImageTransform.Microsoft.gradient(startColorstr=#FFFFFF, endColorstr=#ECECEC)","IE9 returns the correct value from css('filter').")}),test("cssHooks - expand",function(){expect(15);var e,s={margin:["marginTop","marginRight","marginBottom","marginLeft"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]};jQuery.each(s,function(s,t){var i=jQuery.cssHooks[s],o={};jQuery.each(t,function(e,s){o[s]=10}),e=i.expand(10),deepEqual(e,o,s+" expands properly with a number"),jQuery.each(t,function(e,s){o[s]="10px"}),e=i.expand("10px"),deepEqual(e,o,s+" expands properly with '10px'"),o[t[1]]=o[t[3]]="20px",e=i.expand("10px 20px"),deepEqual(e,o,s+" expands properly with '10px 20px'"),o[t[2]]="30px",e=i.expand("10px 20px 30px"),deepEqual(e,o,s+" expands properly with '10px 20px 30px'"),o[t[3]]="40px",e=i.expand("10px 20px 30px 40px"),deepEqual(e,o,s+" expands properly with '10px 20px 30px 40px'")})}),test("css opacity consistency across browsers (#12685)",function(){expect(4);var e,s=jQuery("#qunit-fixture");jQuery("<style>.opacityWithSpaces_t12685 { opacity: 0.1; filter: alpha(opacity = 10); } .opacityNoSpaces_t12685 { opacity: 0.2; filter: alpha(opacity=20); }</style>").appendTo(s),e=jQuery("<div class='opacityWithSpaces_t12685'></div>").appendTo(s),equal(Math.round(100*e.css("opacity")),10,"opacity from style sheet (filter:alpha with spaces)"),e.removeClass("opacityWithSpaces_t12685").addClass("opacityNoSpaces_t12685"),equal(Math.round(100*e.css("opacity")),20,"opacity from style sheet (filter:alpha without spaces)"),e.css("opacity",.3),equal(Math.round(100*e.css("opacity")),30,"override opacity"),e.css("opacity",""),equal(Math.round(100*e.css("opacity")),20,"remove opacity override")}),test(":visible/:hidden selectors",function(){expect(13),ok(jQuery("#nothiddendiv").is(":visible"),"Modifying CSS display: Assert element is visible"),jQuery("#nothiddendiv").css({display:"none"}),ok(!jQuery("#nothiddendiv").is(":visible"),"Modified CSS display: Assert element is hidden"),jQuery("#nothiddendiv").css({display:"block"}),ok(jQuery("#nothiddendiv").is(":visible"),"Modified CSS display: Assert element is visible"),ok(jQuery(window).is(":visible")||!0,"Calling is(':visible') on window does not throw an exception (#10267)"),ok(jQuery(document).is(":visible")||!0,"Calling is(':visible') on document does not throw an exception (#10267)"),ok(jQuery("#nothiddendiv").is(":visible"),"Modifying CSS display: Assert element is visible"),jQuery("#nothiddendiv").css("display","none"),ok(!jQuery("#nothiddendiv").is(":visible"),"Modified CSS display: Assert element is hidden"),jQuery("#nothiddendiv").css("display","block"),ok(jQuery("#nothiddendiv").is(":visible"),"Modified CSS display: Assert element is visible");var e=jQuery("#table");e.html("<tr><td style='display:none'>cell</td><td>cell</td></tr>"),equal(jQuery("#table td:visible").length,1,"hidden cell is not perceived as visible (#4512). Works on table elements"),e.css("display","none").html("<tr><td>cell</td><td>cell</td></tr>"),equal(jQuery("#table td:visible").length,0,"hidden cell children not perceived as visible (#4512)"),t("Is Visible","#qunit-fixture div:visible:lt(2)",["foo","nothiddendiv"]),t("Is Not Hidden","#qunit-fixture:hidden",[]),t("Is Hidden","#form input:hidden",["hidden1","hidden2"])}),asyncTest("Clearing a Cloned Element's Style Shouldn't Clear the Original Element's Style (#8908)",24,function(){var e=document.location.href.replace(/([^\/]*)$/,""),s=[{name:"backgroundAttachment",value:["fixed"],expected:["scroll"]},{name:"backgroundColor",value:["rgb(255, 0, 0)","rgb(255,0,0)","#ff0000"],expected:["transparent"]},{name:"backgroundImage",value:["url('test.png')","url("+e+"test.png)",'url("'+e+'test.png")'],expected:["none",'url("http://static.jquery.com/files/rocker/images/logo_jquery_215x53.gif")']},{name:"backgroundPosition",value:["5% 5%"],expected:["0% 0%","-1000px 0px","-1000px 0%"]},{name:"backgroundRepeat",value:["repeat-y"],expected:["repeat","no-repeat"]},{name:"backgroundClip",value:["padding-box"],expected:["border-box"]},{name:"backgroundOrigin",value:["content-box"],expected:["padding-box"]},{name:"backgroundSize",value:["80px 60px"],expected:["auto auto"]}];jQuery.each(s,function(e,s){var t,i,o=jQuery("#firstp"),n=o[0],a=o.children();return s.expected=s.expected.concat(["","auto"]),void 0===n.style[s.name]?(ok(!0,s.name+": style isn't supported and therefore not an issue"),ok(!0),ok(!0),!0):(o.css(s.name,s.value[0]),a.css(s.name,s.value[0]),t=o.clone(),i=t.children(),t.css(s.name,""),i.css(s.name,""),void window.setTimeout(function(){notEqual(t.css(s.name),s.value[0],"Cloned css was changed"),ok(jQuery.inArray(-1!==o.css(s.name),s.value),"Clearing clone.css() doesn't affect source.css(): "+s.name+"; result: "+o.css(s.name)+"; expected: "+s.value.join(",")),ok(jQuery.inArray(-1!==a.css(s.name),s.value),"Clearing clonedChildren.css() doesn't affect children.css(): "+s.name+"; result: "+a.css(s.name)+"; expected: "+s.value.join(","))},100))}),window.setTimeout(start,1e3)}),asyncTest("Make sure initialized display value for disconnected nodes is correct (#13310)",4,function(){var e=jQuery("#display").css("display"),s=jQuery("<div/>");equal(s.css("display","inline").hide().show().appendTo("body").css("display"),"inline","Initialized display value has returned"),s.remove(),s.css("display","none").hide(),equal(jQuery._data(s[0],"olddisplay"),void 0,"olddisplay is undefined after hiding a detached and hidden element"),s.remove(),s.css("display","inline-block").hide().appendTo("body").fadeIn(function(){equal(s.css("display"),"inline-block","Initialized display value has returned"),s.remove(),start()}),equal(jQuery._data(jQuery("#display").css("display","inline").hide()[0],"olddisplay"),e,"display: * !Important value should used as initialized display"),jQuery._removeData(jQuery("#display")[0])}));