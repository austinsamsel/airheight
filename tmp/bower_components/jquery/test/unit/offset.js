if(jQuery.fn.offset){module("offset",{teardown:moduleTeardown}),test("empty set",function(){expect(2),strictEqual(jQuery().offset(),void 0,"offset() returns undefined for empty set (#11962)"),strictEqual(jQuery().position(),void 0,"position() returns undefined for empty set (#11962)")}),test("object without getBoundingClientRect",function(){expect(2);var t=jQuery({ownerDocument:document}).offset();equal(t.top,0,"Check top"),equal(t.left,0,"Check left")}),test("disconnected node",function(){expect(2);var t=jQuery(document.createElement("div")).offset();equal(t.top,0,"Check top"),equal(t.left,0,"Check left")});var supportsScroll=!1;testIframe("offset/absolute","absolute",function(t,e){expect(4);var o,i,s=e.document;i=jQuery("<div>").css({width:2e3,height:2e3}),i.appendTo("body"),window.scrollTo(200,200),(document.documentElement.scrollTop||document.body.scrollTop)&&(supportsScroll=!0),window.scrollTo(1,1),o=[{id:"#absolute-1",top:1,left:1}],jQuery.each(o,function(){equal(jQuery(this.id,s).offset().top,this.top,"jQuery('"+this.id+"').offset().top"),equal(jQuery(this.id,s).offset().left,this.left,"jQuery('"+this.id+"').offset().left")}),o=[{id:"#absolute-1",top:0,left:0}],jQuery.each(o,function(){equal(jQuery(this.id,s).position().top,this.top,"jQuery('"+this.id+"').position().top"),equal(jQuery(this.id,s).position().left,this.left,"jQuery('"+this.id+"').position().left")}),i.remove()}),testIframe("offset/absolute","absolute",function(t){expect(178);var e=[{id:"#absolute-1",top:1,left:1},{id:"#absolute-1-1",top:5,left:5},{id:"#absolute-1-1-1",top:9,left:9},{id:"#absolute-2",top:20,left:20}];jQuery.each(e,function(){equal(t(this.id).offset().top,this.top,"jQuery('"+this.id+"').offset().top"),equal(t(this.id).offset().left,this.left,"jQuery('"+this.id+"').offset().left")}),e=[{id:"#absolute-1",top:0,left:0},{id:"#absolute-1-1",top:1,left:1},{id:"#absolute-1-1-1",top:1,left:1},{id:"#absolute-2",top:19,left:19}],jQuery.each(e,function(){equal(t(this.id).position().top,this.top,"jQuery('"+this.id+"').position().top"),equal(t(this.id).position().left,this.left,"jQuery('"+this.id+"').position().left")});var o=t("#positionTest").offset({top:10,left:10}).offset();equal(o.top,10,"Setting offset on element with position absolute but 'auto' values."),equal(o.left,10,"Setting offset on element with position absolute but 'auto' values."),e=[{id:"#absolute-2",top:30,left:30},{id:"#absolute-2",top:10,left:10},{id:"#absolute-2",top:-1,left:-1},{id:"#absolute-2",top:19,left:19},{id:"#absolute-1-1-1",top:15,left:15},{id:"#absolute-1-1-1",top:5,left:5},{id:"#absolute-1-1-1",top:-1,left:-1},{id:"#absolute-1-1-1",top:9,left:9},{id:"#absolute-1-1",top:10,left:10},{id:"#absolute-1-1",top:0,left:0},{id:"#absolute-1-1",top:-1,left:-1},{id:"#absolute-1-1",top:5,left:5},{id:"#absolute-1",top:2,left:2},{id:"#absolute-1",top:0,left:0},{id:"#absolute-1",top:-1,left:-1},{id:"#absolute-1",top:1,left:1}],jQuery.each(e,function(){t(this.id).offset({top:this.top,left:this.left}),equal(t(this.id).offset().top,this.top,"jQuery('"+this.id+"').offset({ top: "+this.top+" })"),equal(t(this.id).offset().left,this.left,"jQuery('"+this.id+"').offset({ left: "+this.left+" })");var e=this.top,o=this.left;t(this.id).offset(function(t,i){return equal(i.top,e,"Verify incoming top position."),equal(i.left,o,"Verify incoming top position."),{top:e+1,left:o+1}}),equal(t(this.id).offset().top,this.top+1,"jQuery('"+this.id+"').offset({ top: "+(this.top+1)+" })"),equal(t(this.id).offset().left,this.left+1,"jQuery('"+this.id+"').offset({ left: "+(this.left+1)+" })"),t(this.id).offset({left:this.left+2}).offset({top:this.top+2}),equal(t(this.id).offset().top,this.top+2,"Setting one property at a time."),equal(t(this.id).offset().left,this.left+2,"Setting one property at a time."),t(this.id).offset({top:this.top,left:this.left,using:function(e){t(this).css({top:e.top+1,left:e.left+1})}}),equal(t(this.id).offset().top,this.top+1,"jQuery('"+this.id+"').offset({ top: "+(this.top+1)+", using: fn })"),equal(t(this.id).offset().left,this.left+1,"jQuery('"+this.id+"').offset({ left: "+(this.left+1)+", using: fn })")})}),testIframe("offset/relative","relative",function(t){expect(60);var e=6===t("#relative-1").offset().top,o=[{id:"#relative-1",top:e?6:7,left:7},{id:"#relative-1-1",top:e?13:15,left:15},{id:"#relative-2",top:e?141:142,left:27}];jQuery.each(o,function(){equal(t(this.id).offset().top,this.top,"jQuery('"+this.id+"').offset().top"),equal(t(this.id).offset().left,this.left,"jQuery('"+this.id+"').offset().left")}),o=[{id:"#relative-1",top:e?5:6,left:6},{id:"#relative-1-1",top:e?4:5,left:5},{id:"#relative-2",top:e?140:141,left:26}],jQuery.each(o,function(){equal(t(this.id).position().top,this.top,"jQuery('"+this.id+"').position().top"),equal(t(this.id).position().left,this.left,"jQuery('"+this.id+"').position().left")}),o=[{id:"#relative-2",top:200,left:50},{id:"#relative-2",top:100,left:10},{id:"#relative-2",top:-5,left:-5},{id:"#relative-2",top:142,left:27},{id:"#relative-1-1",top:100,left:100},{id:"#relative-1-1",top:5,left:5},{id:"#relative-1-1",top:-1,left:-1},{id:"#relative-1-1",top:15,left:15},{id:"#relative-1",top:100,left:100},{id:"#relative-1",top:0,left:0},{id:"#relative-1",top:-1,left:-1},{id:"#relative-1",top:7,left:7}],jQuery.each(o,function(){t(this.id).offset({top:this.top,left:this.left}),equal(t(this.id).offset().top,this.top,"jQuery('"+this.id+"').offset({ top: "+this.top+" })"),equal(t(this.id).offset().left,this.left,"jQuery('"+this.id+"').offset({ left: "+this.left+" })"),t(this.id).offset({top:this.top,left:this.left,using:function(e){t(this).css({top:e.top+1,left:e.left+1})}}),equal(t(this.id).offset().top,this.top+1,"jQuery('"+this.id+"').offset({ top: "+(this.top+1)+", using: fn })"),equal(t(this.id).offset().left,this.left+1,"jQuery('"+this.id+"').offset({ left: "+(this.left+1)+", using: fn })")})}),testIframe("offset/static","static",function(t){var e=6===t("#static-1").offset().top;expect(80);var o=[{id:"#static-1",top:e?6:7,left:7},{id:"#static-1-1",top:e?13:15,left:15},{id:"#static-1-1-1",top:e?20:23,left:23},{id:"#static-2",top:e?121:122,left:7}];jQuery.each(o,function(){equal(t(this.id).offset().top,this.top,"jQuery('"+this.id+"').offset().top"),equal(t(this.id).offset().left,this.left,"jQuery('"+this.id+"').offset().left")}),o=[{id:"#static-1",top:e?5:6,left:6},{id:"#static-1-1",top:e?12:14,left:14},{id:"#static-1-1-1",top:e?19:22,left:22},{id:"#static-2",top:e?120:121,left:6}],jQuery.each(o,function(){equal(t(this.id).position().top,this.top,"jQuery('"+this.top+"').position().top"),equal(t(this.id).position().left,this.left,"jQuery('"+this.left+"').position().left")}),o=[{id:"#static-2",top:200,left:200},{id:"#static-2",top:100,left:100},{id:"#static-2",top:-2,left:-2},{id:"#static-2",top:121,left:6},{id:"#static-1-1-1",top:50,left:50},{id:"#static-1-1-1",top:10,left:10},{id:"#static-1-1-1",top:-1,left:-1},{id:"#static-1-1-1",top:22,left:22},{id:"#static-1-1",top:25,left:25},{id:"#static-1-1",top:10,left:10},{id:"#static-1-1",top:-3,left:-3},{id:"#static-1-1",top:14,left:14},{id:"#static-1",top:30,left:30},{id:"#static-1",top:2,left:2},{id:"#static-1",top:-2,left:-2},{id:"#static-1",top:7,left:7}],jQuery.each(o,function(){t(this.id).offset({top:this.top,left:this.left}),equal(t(this.id).offset().top,this.top,"jQuery('"+this.id+"').offset({ top: "+this.top+" })"),equal(t(this.id).offset().left,this.left,"jQuery('"+this.id+"').offset({ left: "+this.left+" })"),t(this.id).offset({top:this.top,left:this.left,using:function(e){t(this).css({top:e.top+1,left:e.left+1})}}),equal(t(this.id).offset().top,this.top+1,"jQuery('"+this.id+"').offset({ top: "+(this.top+1)+", using: fn })"),equal(t(this.id).offset().left,this.left+1,"jQuery('"+this.id+"').offset({ left: "+(this.left+1)+", using: fn })")})}),testIframe("offset/fixed","fixed",function(t){expect(30);var e=[{id:"#fixed-1",top:1001,left:1001},{id:"#fixed-2",top:1021,left:1021}];jQuery.each(e,function(){supportsScroll?jQuery.offset.supportsFixedPosition?(equal(t(this.id).offset().top,this.top,"jQuery('"+this.id+"').offset().top"),equal(t(this.id).offset().left,this.left,"jQuery('"+this.id+"').offset().left")):(ok(!0,"Fixed position is not supported"),ok(!0,"Fixed position is not supported")):(ok(!0,"Browser doesn't support scroll position."),ok(!0,"Browser doesn't support scroll position."))}),e=[{id:"#fixed-1",top:100,left:100},{id:"#fixed-1",top:0,left:0},{id:"#fixed-1",top:-4,left:-4},{id:"#fixed-2",top:200,left:200},{id:"#fixed-2",top:0,left:0},{id:"#fixed-2",top:-5,left:-5}],jQuery.each(e,function(){jQuery.offset.supportsFixedPosition?(t(this.id).offset({top:this.top,left:this.left}),equal(t(this.id).offset().top,this.top,"jQuery('"+this.id+"').offset({ top: "+this.top+" })"),equal(t(this.id).offset().left,this.left,"jQuery('"+this.id+"').offset({ left: "+this.left+" })"),t(this.id).offset({top:this.top,left:this.left,using:function(e){t(this).css({top:e.top+1,left:e.left+1})}}),equal(t(this.id).offset().top,this.top+1,"jQuery('"+this.id+"').offset({ top: "+(this.top+1)+", using: fn })"),equal(t(this.id).offset().left,this.left+1,"jQuery('"+this.id+"').offset({ left: "+(this.left+1)+", using: fn })")):(ok(!0,"Fixed position is not supported"),ok(!0,"Fixed position is not supported"),ok(!0,"Fixed position is not supported"),ok(!0,"Fixed position is not supported"))});var o=t("#fixed-no-top-left");jQuery.offset.supportsFixedPosition?(equal(o.offset().top,1007,"Check offset top for fixed element with no top set"),equal(o.offset().left,1007,"Check offset left for fixed element with no left set")):(ok(!0,"Fixed position is not supported"),ok(!0,"Fixed position is not supported"))}),testIframe("offset/table","table",function(t){expect(4),equal(t("#table-1").offset().top,6,"jQuery('#table-1').offset().top"),equal(t("#table-1").offset().left,6,"jQuery('#table-1').offset().left"),equal(t("#th-1").offset().top,10,"jQuery('#th-1').offset().top"),equal(t("#th-1").offset().left,10,"jQuery('#th-1').offset().left")}),testIframe("offset/scroll","scroll",function(t,e){expect(24);var o=6==t("#scroll-1").offset().top;equal(t("#scroll-1").offset().top,o?6:7,"jQuery('#scroll-1').offset().top"),equal(t("#scroll-1").offset().left,7,"jQuery('#scroll-1').offset().left"),equal(t("#scroll-1-1").offset().top,o?9:11,"jQuery('#scroll-1-1').offset().top"),equal(t("#scroll-1-1").offset().left,11,"jQuery('#scroll-1-1').offset().left"),equal(t("#scroll-1").scrollTop(),5,"jQuery('#scroll-1').scrollTop()"),equal(t("#scroll-1").scrollLeft(),5,"jQuery('#scroll-1').scrollLeft()"),equal(t("#scroll-1-1").scrollTop(),0,"jQuery('#scroll-1-1').scrollTop()"),equal(t("#scroll-1-1").scrollLeft(),0,"jQuery('#scroll-1-1').scrollLeft()"),equal(t("#scroll-1").scrollTop(void 0).scrollTop(),5,".scrollTop(undefined) is chainable (#5571)"),equal(t("#scroll-1").scrollLeft(void 0).scrollLeft(),5,".scrollLeft(undefined) is chainable (#5571)"),e.name="test",supportsScroll?(equal(t(e).scrollTop(),1e3,"jQuery(window).scrollTop()"),equal(t(e).scrollLeft(),1e3,"jQuery(window).scrollLeft()"),equal(t(e.document).scrollTop(),1e3,"jQuery(document).scrollTop()"),equal(t(e.document).scrollLeft(),1e3,"jQuery(document).scrollLeft()")):(ok(!0,"Browser doesn't support scroll position."),ok(!0,"Browser doesn't support scroll position."),ok(!0,"Browser doesn't support scroll position."),ok(!0,"Browser doesn't support scroll position.")),window.scrollTo(0,0),equal(t(window).scrollTop(),0,"jQuery(window).scrollTop() other window"),equal(t(window).scrollLeft(),0,"jQuery(window).scrollLeft() other window"),equal(t(document).scrollTop(),0,"jQuery(window).scrollTop() other document"),equal(t(document).scrollLeft(),0,"jQuery(window).scrollLeft() other document"),notEqual(t().scrollTop(100),null,"jQuery().scrollTop(100) testing setter on empty jquery object"),notEqual(t().scrollLeft(100),null,"jQuery().scrollLeft(100) testing setter on empty jquery object"),notEqual(t().scrollTop(null),null,"jQuery().scrollTop(null) testing setter on empty jquery object"),notEqual(t().scrollLeft(null),null,"jQuery().scrollLeft(null) testing setter on empty jquery object"),strictEqual(t().scrollTop(),null,"jQuery().scrollTop(100) testing setter on empty jquery object"),strictEqual(t().scrollLeft(),null,"jQuery().scrollLeft(100) testing setter on empty jquery object")}),testIframe("offset/body","body",function(t){expect(2),equal(t("body").offset().top,1,"jQuery('#body').offset().top"),equal(t("body").offset().left,1,"jQuery('#body').offset().left")}),test("chaining",function(){expect(3);var t={top:1,left:1};equal(jQuery("#absolute-1").offset(t).selector,"#absolute-1","offset(coords) returns jQuery object"),equal(jQuery("#non-existent").offset(t).selector,"#non-existent","offset(coords) with empty jQuery set returns jQuery object"),equal(jQuery("#absolute-1").offset(void 0).selector,"#absolute-1","offset(undefined) returns jQuery object (#5571)")}),test("offsetParent",function(){expect(12);var t=jQuery("body").offsetParent();equal(t.length,1,"Only one offsetParent found."),equal(t[0],document.body,"The body is its own offsetParent.");var e=jQuery("#qunit-header").offsetParent();equal(e.length,1,"Only one offsetParent found."),equal(e[0],document.body,"The body is the offsetParent.");var o=jQuery("#nothiddendivchild").offsetParent();equal(o.length,1,"Only one offsetParent found."),equal(o[0],document.body,"The body is the offsetParent."),jQuery("#nothiddendiv").css("position","relative"),o=jQuery("#nothiddendivchild").offsetParent(),equal(o.length,1,"Only one offsetParent found."),equal(o[0],jQuery("#nothiddendiv")[0],"The div is the offsetParent."),o=jQuery("body, #nothiddendivchild").offsetParent(),equal(o.length,2,"Two offsetParent found."),equal(o[0],document.body,"The body is the offsetParent."),equal(o[1],jQuery("#nothiddendiv")[0],"The div is the offsetParent.");var i=jQuery("#imgmap area").offsetParent();equal(i[0],document.body,"The body is the offsetParent.")}),test("fractions (see #7730 and #7885)",function(){expect(2),jQuery("body").append('<div id="fractions"/>');var t={top:1e3,left:1e3},e=jQuery("#fractions");e.css({position:"absolute",left:"1000.7432222px",top:"1000.532325px",width:100,height:100}),e.offset(t);var o=e.offset();equal(o.top,t.top,"Check top"),equal(o.left,t.left,"Check left"),e.remove()})}